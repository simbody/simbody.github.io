<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Simbody: Geo.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Simbody
   &#160;<span id="projectnumber">3.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Geo_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Geo.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Geo_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef SimTK_SIMMATH_GEO_H_</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define SimTK_SIMMATH_GEO_H_</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* -------------------------------------------------------------------------- *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                        Simbody(tm): SimTKmath                              *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * -------------------------------------------------------------------------- *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * This is part of the SimTK biosimulation toolkit originating from           *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Simbios, the NIH National Center for Physics-Based Simulation of           *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Biological Structures at Stanford, funded under the NIH Roadmap for        *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Medical Research, grant U54 GM072970. See https://simtk.org/home/simbody.  *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *                                                                            *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Portions copyright (c) 2011-12 Stanford University and the Authors.        *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * Authors: Michael Sherman                                                   *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Contributors:                                                              *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *                                                                            *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may    *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * not use this file except in compliance with the License. You may obtain a  *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * copy of the License at http://www.apache.org/licenses/LICENSE-2.0.         *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *                                                                            *</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software        *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,          *</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   *</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and        *</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * limitations under the License.                                             *</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * -------------------------------------------------------------------------- */</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SimTKcommon_8h.html">SimTKcommon.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SimTKmath_2include_2simmath_2internal_2common_8h.html">simmath/internal/common.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceSimTK.html">SimTK</a> {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//==============================================================================</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//                                    GEO</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//==============================================================================</span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html">   53</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="SimTKmath_2include_2simmath_2internal_2common_8h.html#a5696280cbb2e30d11fd3755c78efc519">SimTK_SIMMATH_EXPORT</a> <a class="code" href="classSimTK_1_1Geo.html">Geo</a> {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1Point__.html">   55</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1Point__.html">Point_</a>;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1Sphere__.html">   56</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1Sphere__.html">Sphere_</a>;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1LineSeg__.html">   57</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1LineSeg__.html">LineSeg_</a>;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1Line__.html">   58</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1Line__.html">Line_</a>;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1Plane__.html">   59</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1Plane__.html">Plane_</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1Circle__.html">   60</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1Circle__.html">Circle_</a>;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1Box__.html">   61</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1Box__.html">Box_</a>;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1AlignedBox__.html">   62</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1AlignedBox__.html">AlignedBox_</a>;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1OrientedBox__.html">   63</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1OrientedBox__.html">OrientedBox_</a>;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1Triangle__.html">   64</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1Triangle__.html">Triangle_</a>;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1CubicHermiteCurve__.html">   65</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1CubicHermiteCurve__.html">CubicHermiteCurve_</a>;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1BicubicHermitePatch__.html">   66</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1BicubicHermitePatch__.html">BicubicHermitePatch_</a>;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo_1_1CubicBezierCurve__.html">   67</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1CubicBezierCurve__.html">CubicBezierCurve_</a>;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#ab97c535710a7081de18ebc4257765022">   68</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classSimTK_1_1Geo_1_1BicubicBezierPatch__.html">BicubicBezierPatch_</a>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1Point__.html">Point_&lt;Real&gt;</a>        <a class="code" href="classSimTK_1_1Geo.html#ab97c535710a7081de18ebc4257765022">Point</a>;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a099f600ddc5f23a4abd3e2c1b485a9be">   71</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1Sphere__.html">Sphere_&lt;Real&gt;</a>       <a class="code" href="classSimTK_1_1Geo.html#a099f600ddc5f23a4abd3e2c1b485a9be">Sphere</a>;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a166c147f08f611293713999254cd5b66">   72</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1LineSeg__.html">LineSeg_&lt;Real&gt;</a>      <a class="code" href="classSimTK_1_1Geo.html#a166c147f08f611293713999254cd5b66">LineSeg</a>;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a67b1362912666fdde3db6515f225671b">   73</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1Line__.html">Line_&lt;Real&gt;</a>         <a class="code" href="classSimTK_1_1Geo.html#a67b1362912666fdde3db6515f225671b">Line</a>;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a30b9d1294684535d71f6d1fbc441abf2">   74</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1Plane__.html">Plane_&lt;Real&gt;</a>        <a class="code" href="classSimTK_1_1Geo.html#a30b9d1294684535d71f6d1fbc441abf2">Plane</a>;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#af7647fade9679a5810ec7e38d00a30dc">   75</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1Circle__.html">Circle_&lt;Real&gt;</a>       <a class="code" href="classSimTK_1_1Geo.html#af7647fade9679a5810ec7e38d00a30dc">Circle</a>;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a0e81c3a9b9891a184da06144e6072d02">   76</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1Box__.html">Box_&lt;Real&gt;</a>          <a class="code" href="classSimTK_1_1Geo.html#a0e81c3a9b9891a184da06144e6072d02">Box</a>;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a17b6b4b86608621c35355ae4c50c0cd1">   77</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1AlignedBox__.html">AlignedBox_&lt;Real&gt;</a>   <a class="code" href="classSimTK_1_1Geo.html#a17b6b4b86608621c35355ae4c50c0cd1">AlignedBox</a>;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a48fc5b40db16bf46c904f72dcf682949">   78</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1OrientedBox__.html">OrientedBox_&lt;Real&gt;</a>  <a class="code" href="classSimTK_1_1Geo.html#a48fc5b40db16bf46c904f72dcf682949">OrientedBox</a>;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#acfe881507d423829c209ae4bbb8ee5b3">   79</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1Triangle__.html">Triangle_&lt;Real&gt;</a>     <a class="code" href="classSimTK_1_1Geo.html#acfe881507d423829c209ae4bbb8ee5b3">Triangle</a>;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a221d1da14347f9f63c825760f53c9f97">   80</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1CubicHermiteCurve__.html">CubicHermiteCurve_&lt;Real&gt;</a>    <a class="code" href="classSimTK_1_1Geo.html#a221d1da14347f9f63c825760f53c9f97">CubicHermiteCurve</a>;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#ae66df3a039489bdc4b9a350a111bcf85">   81</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1BicubicHermitePatch__.html">BicubicHermitePatch_&lt;Real&gt;</a>  <a class="code" href="classSimTK_1_1Geo.html#ae66df3a039489bdc4b9a350a111bcf85">BicubicHermitePatch</a>;</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a5e6852b400457b33038942a8232a305b">   82</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1CubicBezierCurve__.html">CubicBezierCurve_&lt;Real&gt;</a>     <a class="code" href="classSimTK_1_1Geo.html#a5e6852b400457b33038942a8232a305b">CubicBezierCurve</a>;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#aa6ac161f679ff70829ff07ef7d632ee9">   83</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1Geo_1_1BicubicBezierPatch__.html">BicubicBezierPatch_&lt;Real&gt;</a>   <a class="code" href="classSimTK_1_1Geo.html#aa6ac161f679ff70829ff07ef7d632ee9">BicubicBezierPatch</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP, <span class="keywordtype">int</span> S&gt; <span class="keyword">static</span> <span class="keywordtype">bool</span></div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a1d4b26dd214be2ce221fd2658dcbd715">  116</a></span>&#160;<a class="code" href="classSimTK_1_1Geo.html#a1d4b26dd214be2ce221fd2658dcbd715">isCusp</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Pu) </div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{   <span class="keywordflow">return</span> Pu.<a class="code" href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">normSqr</a>() &lt; getDefaultTolSqr&lt;RealP&gt;(); }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP, <span class="keywordtype">int</span> S&gt; <span class="keyword">static</span> <span class="keywordtype">bool</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#acfdf5d12c423028351bb9d22a5c11391">  133</a></span>&#160;<a class="code" href="classSimTK_1_1Geo.html#acfdf5d12c423028351bb9d22a5c11391">isInflectionPoint</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Pu, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Puu) </div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{ <span class="keywordflow">return</span> (Pu % Puu).normSqr() &lt; getDefaultTolSqr&lt;RealP&gt;(); }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP, <span class="keywordtype">int</span> S&gt; <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec&lt;RealP,1&gt;</a> </div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#adf1c55e619734a5ccb71e118d69b942c">  140</a></span>&#160;<a class="code" href="classSimTK_1_1Geo.html#adf1c55e619734a5ccb71e118d69b942c">calcUnitTangent</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Pu) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">const</span> RealP dsdu = Pu.<a class="code" href="classSimTK_1_1Vec.html#a7121b9463a507d8da9b5ab26c77bdfdc">norm</a>();               <span class="comment">// ~25 flops</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(dsdu &gt;= getDefaultTol&lt;RealP&gt;(), </div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="stringliteral">&quot;Geo::calcUnitTangent()&quot;</span>, <span class="stringliteral">&quot;Unit tangent undefined at a cusp.&quot;</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec&lt;RealP,1&gt;</a>(Pu/dsdu, <span class="keyword">true</span>);     <span class="comment">// ~13 flops</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP, <span class="keywordtype">int</span> S&gt; <span class="keyword">static</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a> </div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a0cc3486aecf214573b6273bcbbc13135">  171</a></span>&#160;<a class="code" href="classSimTK_1_1Geo.html#a0cc3486aecf214573b6273bcbbc13135">calcCurvatureVector</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Pu, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Puu) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">const</span> RealP Pu2 = Pu.<a class="code" href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">normSqr</a>();                 <span class="comment">// (ds/du)^2, 5 flops</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(Pu2 &gt;= getDefaultTolSqr&lt;RealP&gt;(), </div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="stringliteral">&quot;Geo::calcCurvatureVector()&quot;</span>, <span class="stringliteral">&quot;Curvature undefined at a cusp.&quot;</span>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">const</span> RealP PuPuu     = <a class="code" href="namespaceSimTK.html#aeecdb84ae3713aa35d307a67e50890d6">dot</a>(Pu,Puu);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">const</span> RealP uPrimeSqr = 1/Pu2;                          <span class="comment">// ~10 flops</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">const</span> RealP u2Prime   = -PuPuu * <a class="code" href="group__square.html#gac143407eb9f50070a3c4d5515eb5c965">square</a>(uPrimeSqr);     <span class="comment">//   8 flops</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> uPrimeSqr*Puu + u2Prime*Pu;                      <span class="comment">//   9 flops</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP, <span class="keywordtype">int</span> S&gt; <span class="keyword">static</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec&lt;RealP,1&gt;</a> </div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a91f2d03400710d64e9102acb4713dc59">  192</a></span>&#160;<a class="code" href="classSimTK_1_1Geo.html#a91f2d03400710d64e9102acb4713dc59">calcUnitNormal</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Pu, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Puu) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec&lt;RealP,1&gt;</a> UnitVec3P;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">const</span> RealP Pu2 = Pu.<a class="code" href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">normSqr</a>();                 <span class="comment">// (ds/du)^2, 5 flops</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(Pu2 &gt;= getDefaultTolSqr&lt;RealP&gt;(), </div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="stringliteral">&quot;Geo::calcUnitNormal()&quot;</span>, <span class="stringliteral">&quot;The normal is undefined at a cusp.&quot;</span>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// Now check if we&#39;re at an inflection point, meaning |Pu X Puu|==0.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Use this handy identity from Struik eq. 3-9 to avoid calculating</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// the cross product: (Pu X Puu)^2 = Pu^2Puu^2 - (~Pu*Puu)^2</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">const</span> RealP Puu2 = Puu.<a class="code" href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">normSqr</a>();                   <span class="comment">// 5 flops</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">const</span> RealP PuPuu = <a class="code" href="namespaceSimTK.html#aeecdb84ae3713aa35d307a67e50890d6">dot</a>(Pu,Puu);                    <span class="comment">// 5 flops</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keyword">const</span> RealP PuXPuu2 = Pu2*Puu2 - <a class="code" href="group__square.html#gac143407eb9f50070a3c4d5515eb5c965">square</a>(PuPuu);     <span class="comment">// 3 flops</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (PuXPuu2 &lt; getDefaultTolSqr&lt;RealP&gt;())            <span class="comment">// 1 flop</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">return</span> UnitVec3P(Pu).perp();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Calculate the curvature vector, negate, and normalize.</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">const</span> RealP uPrimeSqr = 1/Pu2;                      <span class="comment">// ~10 flops</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">const</span> RealP u2Prime   = -PuPuu * <a class="code" href="group__square.html#gac143407eb9f50070a3c4d5515eb5c965">square</a>(uPrimeSqr); <span class="comment">//   3 flops</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a> c = uPrimeSqr*Puu + u2Prime*Pu;  <span class="comment">//   9 flops</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span> UnitVec3P(-c);                               <span class="comment">// ~40 flops</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP, <span class="keywordtype">int</span> S&gt; <span class="keyword">static</span> RealP </div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a9b61d69fd82244346c7635e3f9c76db4">  224</a></span>&#160;<a class="code" href="classSimTK_1_1Geo.html#a9b61d69fd82244346c7635e3f9c76db4">calcCurveFrame</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp;    P, </div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;               <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp;    Pu, </div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;               <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp;    Puu,</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;               <a class="code" href="classSimTK_1_1Transform__.html">Transform_&lt;RealP&gt;</a>&amp;       X_FP) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec&lt;RealP,1&gt;</a> UnitVec3P;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">const</span> RealP Pu2 = Pu.<a class="code" href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">normSqr</a>();                 <span class="comment">// (ds/du)^2, 5 flops</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(Pu2 &gt;= getDefaultTolSqr&lt;RealP&gt;(), </div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="stringliteral">&quot;Geo::calcCurveFrame()&quot;</span>, <span class="stringliteral">&quot;Curve frame is undefined at a cusp.&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// Set the point P(u) as the frame origin.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    X_FP.<a class="code" href="classSimTK_1_1Transform__.html#adc620dd92c973510862ca3dc1ed2d4a2">updP</a>() = P;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// Calculate the unit tangent t, our y axis.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keyword">const</span> RealP uPrimeSqr = 1/Pu2;                          <span class="comment">// ~10 flops</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">const</span> RealP uPrime    = std::sqrt(uPrimeSqr);           <span class="comment">// ~20 flops</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">const</span> UnitVec3P t(uPrime*Pu, <span class="keyword">true</span>);                     <span class="comment">//   3 flops </span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// Next calculate unit normal n, our x axis. See calcUnitNormal() above</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// for theory.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">const</span> RealP Puu2 = Puu.<a class="code" href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">normSqr</a>();                       <span class="comment">// 5 flops</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">const</span> RealP PuPuu = <a class="code" href="namespaceSimTK.html#aeecdb84ae3713aa35d307a67e50890d6">dot</a>(Pu,Puu);                        <span class="comment">// 5 flops</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">const</span> RealP PuXPuu2 = Pu2*Puu2 - <a class="code" href="group__square.html#gac143407eb9f50070a3c4d5515eb5c965">square</a>(PuPuu);         <span class="comment">// 3 flops</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    UnitVec3P n; <span class="comment">// unit normal</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    RealP     k; <span class="comment">// curvature magnitude</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (PuXPuu2 &lt; getDefaultTolSqr&lt;RealP&gt;()) {              <span class="comment">// 1 flop</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        k = 0;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        n = t.perp(); <span class="comment">// arbitrary</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">// Calculate the curvature vector, negate, and normalize.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keyword">const</span> RealP u2Prime = -PuPuu * <a class="code" href="group__square.html#gac143407eb9f50070a3c4d5515eb5c965">square</a>(uPrimeSqr);   <span class="comment">//   8 flops</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a> c = uPrimeSqr*Puu + u2Prime*Pu;  <span class="comment">//   9 flops</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        k = c.<a class="code" href="classSimTK_1_1Vec.html#a7121b9463a507d8da9b5ab26c77bdfdc">norm</a>();                       <span class="comment">// curvature &gt;= 0, ~25 flops</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        n = UnitVec3P((-1/k)*c, <span class="keyword">true</span>);                      <span class="comment">// ~13 flops</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// Finally calculate the binormal, our z axis. No need to normalize</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// here because n and t are perpendicular unit vectors.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keyword">const</span> UnitVec3P b(n % t, <span class="keyword">true</span>);                      <span class="comment">// 9 flops</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Construct the coordinate frame without normalizing.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    X_FP.<a class="code" href="classSimTK_1_1Transform__.html#a1c0dfb4616800cb27dbff93494f74a96">updR</a>().setRotationFromUnitVecsTrustMe(n,t,b);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> k;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP, <span class="keywordtype">int</span> S&gt; <span class="keyword">static</span> RealP</div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a81a6e6a58f0b5a6db434a316754bb7a8">  283</a></span>&#160;<a class="code" href="classSimTK_1_1Geo.html#a81a6e6a58f0b5a6db434a316754bb7a8">calcCurvatureSqr</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Pu, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Puu) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keyword">const</span> RealP Pu2 = Pu.<a class="code" href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">normSqr</a>();   <span class="comment">// (ds/du)^2, 5 flops</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(Pu2 &gt;= getDefaultTolSqr&lt;RealP&gt;(), </div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="stringliteral">&quot;Geo::calcCurvatureSqr()&quot;</span>, <span class="stringliteral">&quot;Curvature is undefined at a cusp.&quot;</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keyword">const</span> RealP num = <a class="code" href="namespaceSimTK.html#ae756378c84d8ec677106a9b0870d5c4d">cross</a>(Pu,Puu).normSqr();      <span class="comment">//  14 flops</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">const</span> RealP den = <a class="code" href="group__cube.html#gafa5cf370fddde320439c9e579f2e69c0">cube</a>(Pu2);                    <span class="comment">//   2 flops</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span> num/den;                                 <span class="comment">// ~10 flops</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP, <span class="keywordtype">int</span> S&gt; <span class="keyword">static</span> RealP</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#abebb31a8e7e26b191ce5eb347e6c4084">  306</a></span>&#160;<a class="code" href="classSimTK_1_1Geo.html#abebb31a8e7e26b191ce5eb347e6c4084">calcTorsion</a>(<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Pu, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Puu, </div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP,S&gt;</a>&amp; Puuu) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a> PuXPuu = <a class="code" href="namespaceSimTK.html#ae756378c84d8ec677106a9b0870d5c4d">cross</a>(Pu,Puu);              <span class="comment">//   9 flops</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keyword">const</span> RealP PuXPuu2 = PuXPuu.<a class="code" href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">normSqr</a>();                 <span class="comment">//   5 flops  </span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a>(PuXPuu2 &gt;= getDefaultTolSqr&lt;RealP&gt;(), <span class="stringliteral">&quot;Geo::calcTorsion()&quot;</span>, </div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="stringliteral">&quot;Torsion is undefined at a cusp or inflection point.&quot;</span>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keyword">const</span> RealP num = <a class="code" href="namespaceSimTK.html#aeecdb84ae3713aa35d307a67e50890d6">dot</a>(PuXPuu, Puuu);                    <span class="comment">//   5 flops</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">return</span> num/PuXPuu2;                                     <span class="comment">// ~10 flops</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP&gt; <span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;findClosestPointsOfTwoLines</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#ac66bd601e9192205f63c017b24db894e">  340</a></span>&#160;   (<span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a>&amp; p0, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec&lt;RealP,1&gt;</a>&amp; d0,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a>&amp; p1, <span class="keyword">const</span> <a class="code" href="classSimTK_1_1UnitVec.html">UnitVec&lt;RealP,1&gt;</a>&amp; d1,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a>&amp; x0, <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a>&amp; x1, <span class="keywordtype">bool</span>&amp; linesAreParallel)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keyword">const</span> <a class="code" href="classSimTK_1_1Vec.html">Vec&lt;3,RealP&gt;</a> w = p1-p0; <span class="comment">// vector from p0 to p1; 3 flops</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">const</span> RealP s2Theta = (d0 % d1).normSqr(); <span class="comment">// sin^2(angle); 14 flops</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">const</span> RealP d =  <a class="code" href="namespaceSimTK.html#aeecdb84ae3713aa35d307a67e50890d6">dot</a>(w,d0);     <span class="comment">// 5 flops</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keyword">const</span> RealP e = -<a class="code" href="namespaceSimTK.html#aeecdb84ae3713aa35d307a67e50890d6">dot</a>(w,d1);     <span class="comment">// 6 flops</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    RealP t0, t1; <span class="comment">// line parameters of closest points</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (s2Theta &lt; <a class="code" href="group__square.html#gac143407eb9f50070a3c4d5515eb5c965">square</a>(<a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;RealP&gt;::getSignificant</a>())) { <span class="comment">// 3 flops</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="comment">// Lines are parallel. Return a point on each line midway between</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="comment">// the origin points.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        linesAreParallel = <span class="keyword">true</span>; <span class="comment">// parallel</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        t0 = d/2; t1 = e/2;      <span class="comment">// 2 flops</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        linesAreParallel = <span class="keyword">false</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keyword">const</span> RealP cTheta = <a class="code" href="namespaceSimTK.html#aeecdb84ae3713aa35d307a67e50890d6">dot</a>(d0,d1); <span class="comment">// cos(angle between lines); 5 flops</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keyword">const</span> RealP oos2Theta = 1/s2Theta; <span class="comment">// about 10 flops</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        t0 = (e*cTheta + d) * oos2Theta;   <span class="comment">// 3 flops</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        t1 = (d*cTheta + e) * oos2Theta;   <span class="comment">// 3 flops</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    x0 = p0 + t0*d0;    <span class="comment">// 6 flops</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    x1 = p1 + t1*d1;    <span class="comment">// 6 flops</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a022a5f4a5fc4359d76d67256298a480b">  376</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP&gt; <span class="keyword">static</span> RealP <a class="code" href="classSimTK_1_1Geo.html#a022a5f4a5fc4359d76d67256298a480b">getDefaultTol</a>() </div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;RealP&gt;::getSignificant</a>(); }</div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a507354aa72aa55e0291dd1e5e4f9ecd1">  380</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP&gt; <span class="keyword">static</span> RealP <a class="code" href="classSimTK_1_1Geo.html#a507354aa72aa55e0291dd1e5e4f9ecd1">getDefaultTolSqr</a>()</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{   <span class="keywordflow">return</span> <a class="code" href="group__square.html#gac143407eb9f50070a3c4d5515eb5c965">square</a>(getDefaultTol&lt;RealP&gt;()); }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#aabfd3feb89c1e154c24d13fa107bc555">  385</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP&gt; <span class="keyword">static</span> RealP <a class="code" href="classSimTK_1_1Geo.html#aabfd3feb89c1e154c24d13fa107bc555">getEps</a>() </div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;RealP&gt;::getEps</a>(); }</div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a70ae991b9c9f96c2a3b9079fb47c6cf0">  388</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP&gt; <span class="keyword">static</span> RealP <a class="code" href="classSimTK_1_1Geo.html#a70ae991b9c9f96c2a3b9079fb47c6cf0">getNaN</a>() </div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;RealP&gt;::getNaN</a>(); }</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#ab0bfe21f900995cceff6c34df9d2a69a">  391</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP&gt; <span class="keyword">static</span> RealP <a class="code" href="classSimTK_1_1Geo.html#ab0bfe21f900995cceff6c34df9d2a69a">getInfinity</a>() </div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{   <span class="keywordflow">return</span> <a class="code" href="classSimTK_1_1NTraits.html">NTraits&lt;RealP&gt;::getInfinity</a>(); }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#abfc604542773ad90bbbb49c2143a98b7">  398</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP&gt; <span class="keyword">static</span> RealP <a class="code" href="classSimTK_1_1Geo.html#abfc604542773ad90bbbb49c2143a98b7">stretchBy</a>(RealP length, RealP tol) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="ExceptionMacros_8h.html#a57ba111f3c249a666b141d802807daa1">SimTK_ERRCHK2</a>(tol &gt;= getEps&lt;RealP&gt;(), <span class="stringliteral">&quot;Geo::stretchBy()&quot;</span>,</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="stringliteral">&quot;The supplied tolerance %g is too small; must be at least %g&quot;</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="stringliteral">&quot; for significance at this precision.&quot;</span>, </div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        (<span class="keywordtype">double</span>)tol, (<span class="keywordtype">double</span>)getEps&lt;RealP&gt;());</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> length + <a class="code" href="namespaceSimTK.html#a5e54f17d86aeb08126d641bea4ba6f86">std::max</a>(length*tol, tol);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="classSimTK_1_1Geo.html#a01ba9676fd826d03453f7f0253a1b6f9">  409</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> RealP&gt; <span class="keyword">static</span> RealP <a class="code" href="classSimTK_1_1Geo.html#a01ba9676fd826d03453f7f0253a1b6f9">stretch</a>(RealP length)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{   <span class="keywordflow">return</span> stretchBy(length, getDefaultTol&lt;RealP&gt;()); }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;};</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;} <span class="comment">// namespace SimTK</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#endif // SimTK_SIMMATH_GEO_H_</span></div><div class="ttc" id="classSimTK_1_1Geo_1_1Triangle___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1Triangle__.html">SimTK::Geo::Triangle_</a></div><div class="ttdoc">A geometric primitive representing a triangle by its vertices as points in some unspecified frame...</div><div class="ttdef"><b>Definition:</b> Geo.h:64</div></div>
<div class="ttc" id="namespaceSimTK_html_ae756378c84d8ec677106a9b0870d5c4d"><div class="ttname"><a href="namespaceSimTK.html#ae756378c84d8ec677106a9b0870d5c4d">SimTK::cross</a></div><div class="ttdeci">Vec&lt; 3, typename CNT&lt; E1 &gt;::template Result&lt; E2 &gt;::Mul &gt; cross(const Vec&lt; 3, E1, S1 &gt; &amp;a, const Vec&lt; 3, E2, S2 &gt; &amp;b)</div><div class="ttdef"><b>Definition:</b> SmallMatrixMixed.h:413</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_acfe881507d423829c209ae4bbb8ee5b3"><div class="ttname"><a href="classSimTK_1_1Geo.html#acfe881507d423829c209ae4bbb8ee5b3">SimTK::Geo::Triangle</a></div><div class="ttdeci">Triangle_&lt; Real &gt; Triangle</div><div class="ttdef"><b>Definition:</b> Geo.h:79</div></div>
<div class="ttc" id="classSimTK_1_1UnitVec_html"><div class="ttname"><a href="classSimTK_1_1UnitVec.html">SimTK::UnitVec</a></div><div class="ttdoc">This class is a Vec3 plus an ironclad guarantee either that: </div><div class="ttdef"><b>Definition:</b> UnitVec.h:40</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a17b6b4b86608621c35355ae4c50c0cd1"><div class="ttname"><a href="classSimTK_1_1Geo.html#a17b6b4b86608621c35355ae4c50c0cd1">SimTK::Geo::AlignedBox</a></div><div class="ttdeci">AlignedBox_&lt; Real &gt; AlignedBox</div><div class="ttdef"><b>Definition:</b> Geo.h:77</div></div>
<div class="ttc" id="namespaceSimTK_html"><div class="ttname"><a href="namespaceSimTK.html">SimTK</a></div><div class="ttdoc">This is the top-level SimTK namespace into which all SimTK names are placed to avoid collision with o...</div><div class="ttdef"><b>Definition:</b> Assembler.h:37</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1CubicHermiteCurve___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1CubicHermiteCurve__.html">SimTK::Geo::CubicHermiteCurve_</a></div><div class="ttdoc">A primitive useful for computations involving a single cubic Hermite curve segment in algebraic or ge...</div><div class="ttdef"><b>Definition:</b> Geo.h:65</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1Line___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1Line__.html">SimTK::Geo::Line_</a></div><div class="ttdef"><b>Definition:</b> Geo.h:58</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a1d4b26dd214be2ce221fd2658dcbd715"><div class="ttname"><a href="classSimTK_1_1Geo.html#a1d4b26dd214be2ce221fd2658dcbd715">SimTK::Geo::isCusp</a></div><div class="ttdeci">static bool isCusp(const Vec&lt; 3, RealP, S &gt; &amp;Pu)</div><div class="ttdoc">Given the parametric derivative Pu(u)=dP/du, determine whether the point P(u) is at a cusp...</div><div class="ttdef"><b>Definition:</b> Geo.h:116</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a166c147f08f611293713999254cd5b66"><div class="ttname"><a href="classSimTK_1_1Geo.html#a166c147f08f611293713999254cd5b66">SimTK::Geo::LineSeg</a></div><div class="ttdeci">LineSeg_&lt; Real &gt; LineSeg</div><div class="ttdef"><b>Definition:</b> Geo.h:72</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1Box___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1Box__.html">SimTK::Geo::Box_</a></div><div class="ttdoc">A 3d rectangular box aligned with an unspecified frame F and centered at that frame&amp;#39;s origin...</div><div class="ttdef"><b>Definition:</b> Geo.h:61</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_ab97c535710a7081de18ebc4257765022"><div class="ttname"><a href="classSimTK_1_1Geo.html#ab97c535710a7081de18ebc4257765022">SimTK::Geo::Point</a></div><div class="ttdeci">Point_&lt; Real &gt; Point</div><div class="ttdef"><b>Definition:</b> Geo.h:68</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a221d1da14347f9f63c825760f53c9f97"><div class="ttname"><a href="classSimTK_1_1Geo.html#a221d1da14347f9f63c825760f53c9f97">SimTK::Geo::CubicHermiteCurve</a></div><div class="ttdeci">CubicHermiteCurve_&lt; Real &gt; CubicHermiteCurve</div><div class="ttdef"><b>Definition:</b> Geo.h:80</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a0cc3486aecf214573b6273bcbbc13135"><div class="ttname"><a href="classSimTK_1_1Geo.html#a0cc3486aecf214573b6273bcbbc13135">SimTK::Geo::calcCurvatureVector</a></div><div class="ttdeci">static Vec&lt; 3, RealP &gt; calcCurvatureVector(const Vec&lt; 3, RealP, S &gt; &amp;Pu, const Vec&lt; 3, RealP, S &gt; &amp;Puu)</div><div class="ttdoc">Return the curvature vector c=dt/ds=d2P/ds2, given Pu=dP/du and Puu=d2P/du2. </div><div class="ttdef"><b>Definition:</b> Geo.h:171</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a9b61d69fd82244346c7635e3f9c76db4"><div class="ttname"><a href="classSimTK_1_1Geo.html#a9b61d69fd82244346c7635e3f9c76db4">SimTK::Geo::calcCurveFrame</a></div><div class="ttdeci">static RealP calcCurveFrame(const Vec&lt; 3, RealP, S &gt; &amp;P, const Vec&lt; 3, RealP, S &gt; &amp;Pu, const Vec&lt; 3, RealP, S &gt; &amp;Puu, Transform_&lt; RealP &gt; &amp;X_FP)</div><div class="ttdoc">Return the the curvature k (always positive), and a frame whose origin is a point along the curve...</div><div class="ttdef"><b>Definition:</b> Geo.h:224</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a5e6852b400457b33038942a8232a305b"><div class="ttname"><a href="classSimTK_1_1Geo.html#a5e6852b400457b33038942a8232a305b">SimTK::Geo::CubicBezierCurve</a></div><div class="ttdeci">CubicBezierCurve_&lt; Real &gt; CubicBezierCurve</div><div class="ttdef"><b>Definition:</b> Geo.h:82</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_aabfd3feb89c1e154c24d13fa107bc555"><div class="ttname"><a href="classSimTK_1_1Geo.html#aabfd3feb89c1e154c24d13fa107bc555">SimTK::Geo::getEps</a></div><div class="ttdeci">static RealP getEps()</div><div class="ttdoc">Return machine precision for floating point calculations at precision RealP. </div><div class="ttdef"><b>Definition:</b> Geo.h:385</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1OrientedBox___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1OrientedBox__.html">SimTK::Geo::OrientedBox_</a></div><div class="ttdoc">TODO: A 3d box oriented and positioned with respect to an unspecified frame F. </div><div class="ttdef"><b>Definition:</b> Geo.h:63</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_adf1c55e619734a5ccb71e118d69b942c"><div class="ttname"><a href="classSimTK_1_1Geo.html#adf1c55e619734a5ccb71e118d69b942c">SimTK::Geo::calcUnitTangent</a></div><div class="ttdeci">static UnitVec&lt; RealP, 1 &gt; calcUnitTangent(const Vec&lt; 3, RealP, S &gt; &amp;Pu)</div><div class="ttdoc">Calculate the unit tangent vector t=dP/ds, given Pu=dP/du. </div><div class="ttdef"><b>Definition:</b> Geo.h:140</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1AlignedBox___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1AlignedBox__.html">SimTK::Geo::AlignedBox_</a></div><div class="ttdoc">A 3d box aligned with an unspecified frame F and centered at a given point measured from that frame&amp;#39;s...</div><div class="ttdef"><b>Definition:</b> Geo.h:62</div></div>
<div class="ttc" id="classSimTK_1_1Vec_html_a7121b9463a507d8da9b5ab26c77bdfdc"><div class="ttname"><a href="classSimTK_1_1Vec.html#a7121b9463a507d8da9b5ab26c77bdfdc">SimTK::Vec::norm</a></div><div class="ttdeci">CNT&lt; ScalarNormSq &gt;::TSqrt norm() const</div><div class="ttdef"><b>Definition:</b> Vec.h:610</div></div>
<div class="ttc" id="group__square_html_gac143407eb9f50070a3c4d5515eb5c965"><div class="ttname"><a href="group__square.html#gac143407eb9f50070a3c4d5515eb5c965">SimTK::square</a></div><div class="ttdeci">unsigned char square(unsigned char u)</div><div class="ttdef"><b>Definition:</b> Scalar.h:349</div></div>
<div class="ttc" id="classSimTK_1_1Vec_html"><div class="ttname"><a href="classSimTK_1_1Vec.html">SimTK::Vec</a></div><div class="ttdoc">This is a fixed-length column vector designed for no-overhead inline computation. ...</div><div class="ttdef"><b>Definition:</b> SimTKcommon/include/SimTKcommon/internal/common.h:618</div></div>
<div class="ttc" id="SimTKcommon_8h_html"><div class="ttname"><a href="SimTKcommon_8h.html">SimTKcommon.h</a></div><div class="ttdoc">Includes internal headers providing declarations for the basic SimTK Core classes, including Simmatrix. </div></div>
<div class="ttc" id="classSimTK_1_1Vec_html_a8c5e60706dd33f7d26db8039579b0587"><div class="ttname"><a href="classSimTK_1_1Vec.html#a8c5e60706dd33f7d26db8039579b0587">SimTK::Vec::normSqr</a></div><div class="ttdeci">ScalarNormSq normSqr() const</div><div class="ttdef"><b>Definition:</b> Vec.h:608</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_ae66df3a039489bdc4b9a350a111bcf85"><div class="ttname"><a href="classSimTK_1_1Geo.html#ae66df3a039489bdc4b9a350a111bcf85">SimTK::Geo::BicubicHermitePatch</a></div><div class="ttdeci">BicubicHermitePatch_&lt; Real &gt; BicubicHermitePatch</div><div class="ttdef"><b>Definition:</b> Geo.h:81</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_acfdf5d12c423028351bb9d22a5c11391"><div class="ttname"><a href="classSimTK_1_1Geo.html#acfdf5d12c423028351bb9d22a5c11391">SimTK::Geo::isInflectionPoint</a></div><div class="ttdeci">static bool isInflectionPoint(const Vec&lt; 3, RealP, S &gt; &amp;Pu, const Vec&lt; 3, RealP, S &gt; &amp;Puu)</div><div class="ttdoc">Given the parametric derivatives Pu(u)=dP/du, and Puu(u)=d2P/du2 determine whether point P(u) is at a...</div><div class="ttdef"><b>Definition:</b> Geo.h:133</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html"><div class="ttname"><a href="classSimTK_1_1Geo.html">SimTK::Geo</a></div><div class="ttdoc">The Geo class collects geometric primitives intended to deal with raw, fixed-size geometric shapes oc...</div><div class="ttdef"><b>Definition:</b> Geo.h:53</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_aa6ac161f679ff70829ff07ef7d632ee9"><div class="ttname"><a href="classSimTK_1_1Geo.html#aa6ac161f679ff70829ff07ef7d632ee9">SimTK::Geo::BicubicBezierPatch</a></div><div class="ttdeci">BicubicBezierPatch_&lt; Real &gt; BicubicBezierPatch</div><div class="ttdef"><b>Definition:</b> Geo.h:83</div></div>
<div class="ttc" id="classSimTK_1_1Transform___html"><div class="ttname"><a href="classSimTK_1_1Transform__.html">SimTK::Transform_</a></div><div class="ttdoc">This class represents the rotate-and-shift transform which gives the location and orientation of a ne...</div><div class="ttdef"><b>Definition:</b> Transform.h:43</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a507354aa72aa55e0291dd1e5e4f9ecd1"><div class="ttname"><a href="classSimTK_1_1Geo.html#a507354aa72aa55e0291dd1e5e4f9ecd1">SimTK::Geo::getDefaultTolSqr</a></div><div class="ttdeci">static RealP getDefaultTolSqr()</div><div class="ttdoc">Returns the square of the default tolerance. </div><div class="ttdef"><b>Definition:</b> Geo.h:380</div></div>
<div class="ttc" id="namespaceSimTK_html_a5e54f17d86aeb08126d641bea4ba6f86"><div class="ttname"><a href="namespaceSimTK.html#a5e54f17d86aeb08126d641bea4ba6f86">SimTK::max</a></div><div class="ttdeci">ELEM max(const VectorBase&lt; ELEM &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> VectorMath.h:251</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a70ae991b9c9f96c2a3b9079fb47c6cf0"><div class="ttname"><a href="classSimTK_1_1Geo.html#a70ae991b9c9f96c2a3b9079fb47c6cf0">SimTK::Geo::getNaN</a></div><div class="ttdeci">static RealP getNaN()</div><div class="ttdoc">Return a NaN (not a number) at precision RealP. </div><div class="ttdef"><b>Definition:</b> Geo.h:388</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1LineSeg___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1LineSeg__.html">SimTK::Geo::LineSeg_</a></div><div class="ttdoc">A 3d line segment primitive represented by its end points in an unspecified frame, and a collection of line segment-related utility methods. </div><div class="ttdef"><b>Definition:</b> Geo.h:57</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a30b9d1294684535d71f6d1fbc441abf2"><div class="ttname"><a href="classSimTK_1_1Geo.html#a30b9d1294684535d71f6d1fbc441abf2">SimTK::Geo::Plane</a></div><div class="ttdeci">Plane_&lt; Real &gt; Plane</div><div class="ttdef"><b>Definition:</b> Geo.h:74</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a48fc5b40db16bf46c904f72dcf682949"><div class="ttname"><a href="classSimTK_1_1Geo.html#a48fc5b40db16bf46c904f72dcf682949">SimTK::Geo::OrientedBox</a></div><div class="ttdeci">OrientedBox_&lt; Real &gt; OrientedBox</div><div class="ttdef"><b>Definition:</b> Geo.h:78</div></div>
<div class="ttc" id="classSimTK_1_1Transform___html_a1c0dfb4616800cb27dbff93494f74a96"><div class="ttname"><a href="classSimTK_1_1Transform__.html#a1c0dfb4616800cb27dbff93494f74a96">SimTK::Transform_::updR</a></div><div class="ttdeci">Rotation_&lt; P &gt; &amp; updR()</div><div class="ttdoc">Return a writable (lvalue) reference to the contained rotation R_BF. </div><div class="ttdef"><b>Definition:</b> Transform.h:218</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a67b1362912666fdde3db6515f225671b"><div class="ttname"><a href="classSimTK_1_1Geo.html#a67b1362912666fdde3db6515f225671b">SimTK::Geo::Line</a></div><div class="ttdeci">Line_&lt; Real &gt; Line</div><div class="ttdef"><b>Definition:</b> Geo.h:73</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_ab0bfe21f900995cceff6c34df9d2a69a"><div class="ttname"><a href="classSimTK_1_1Geo.html#ab0bfe21f900995cceff6c34df9d2a69a">SimTK::Geo::getInfinity</a></div><div class="ttdeci">static RealP getInfinity()</div><div class="ttdoc">Return Infinity at precision RealP. You can negate this for -Infinity. </div><div class="ttdef"><b>Definition:</b> Geo.h:391</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a01ba9676fd826d03453f7f0253a1b6f9"><div class="ttname"><a href="classSimTK_1_1Geo.html#a01ba9676fd826d03453f7f0253a1b6f9">SimTK::Geo::stretch</a></div><div class="ttdeci">static RealP stretch(RealP length)</div><div class="ttdoc">Stretch a dimension using the default tolerance for this precision as the tolerance in stretchBy()...</div><div class="ttdef"><b>Definition:</b> Geo.h:409</div></div>
<div class="ttc" id="ExceptionMacros_8h_html_ab71559e3ecec1319c37bf36c9091f23a"><div class="ttname"><a href="ExceptionMacros_8h.html#ab71559e3ecec1319c37bf36c9091f23a">SimTK_ERRCHK</a></div><div class="ttdeci">#define SimTK_ERRCHK(cond, whereChecked, msg)</div><div class="ttdef"><b>Definition:</b> ExceptionMacros.h:324</div></div>
<div class="ttc" id="classSimTK_1_1Transform___html_adc620dd92c973510862ca3dc1ed2d4a2"><div class="ttname"><a href="classSimTK_1_1Transform__.html#adc620dd92c973510862ca3dc1ed2d4a2">SimTK::Transform_::updP</a></div><div class="ttdeci">Vec&lt; 3, P &gt; &amp; updP()</div><div class="ttdoc">Return a writable (lvalue) reference to our translation vector p_BF. </div><div class="ttdef"><b>Definition:</b> Transform.h:243</div></div>
<div class="ttc" id="ExceptionMacros_8h_html_a57ba111f3c249a666b141d802807daa1"><div class="ttname"><a href="ExceptionMacros_8h.html#a57ba111f3c249a666b141d802807daa1">SimTK_ERRCHK2</a></div><div class="ttdeci">#define SimTK_ERRCHK2(cond, whereChecked, fmt, a1, a2)</div><div class="ttdef"><b>Definition:</b> ExceptionMacros.h:328</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a91f2d03400710d64e9102acb4713dc59"><div class="ttname"><a href="classSimTK_1_1Geo.html#a91f2d03400710d64e9102acb4713dc59">SimTK::Geo::calcUnitNormal</a></div><div class="ttdeci">static UnitVec&lt; RealP, 1 &gt; calcUnitNormal(const Vec&lt; 3, RealP, S &gt; &amp;Pu, const Vec&lt; 3, RealP, S &gt; &amp;Puu)</div><div class="ttdoc">In our definition, the unit normal vector n points in the &quot;outward&quot; direction, that is...</div><div class="ttdef"><b>Definition:</b> Geo.h:192</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a0e81c3a9b9891a184da06144e6072d02"><div class="ttname"><a href="classSimTK_1_1Geo.html#a0e81c3a9b9891a184da06144e6072d02">SimTK::Geo::Box</a></div><div class="ttdeci">Box_&lt; Real &gt; Box</div><div class="ttdef"><b>Definition:</b> Geo.h:76</div></div>
<div class="ttc" id="SimTKmath_2include_2simmath_2internal_2common_8h_html"><div class="ttname"><a href="SimTKmath_2include_2simmath_2internal_2common_8h.html">common.h</a></div><div class="ttdoc">This is the header file that every Simmath compilation unit should include first. ...</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a81a6e6a58f0b5a6db434a316754bb7a8"><div class="ttname"><a href="classSimTK_1_1Geo.html#a81a6e6a58f0b5a6db434a316754bb7a8">SimTK::Geo::calcCurvatureSqr</a></div><div class="ttdeci">static RealP calcCurvatureSqr(const Vec&lt; 3, RealP, S &gt; &amp;Pu, const Vec&lt; 3, RealP, S &gt; &amp;Puu)</div><div class="ttdoc">Return k^2, the square of the scalar curvature k, given Pu=dP/du and Puu=d2P/du2. ...</div><div class="ttdef"><b>Definition:</b> Geo.h:283</div></div>
<div class="ttc" id="namespaceSimTK_html_aeecdb84ae3713aa35d307a67e50890d6"><div class="ttname"><a href="namespaceSimTK.html#aeecdb84ae3713aa35d307a67e50890d6">SimTK::dot</a></div><div class="ttdeci">CNT&lt; typename CNT&lt; E1 &gt;::THerm &gt;::template Result&lt; E2 &gt;::Mul dot(const Vec&lt; M, E1, S1 &gt; &amp;r, const Vec&lt; M, E2, S2 &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> SmallMatrixMixed.h:86</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_abebb31a8e7e26b191ce5eb347e6c4084"><div class="ttname"><a href="classSimTK_1_1Geo.html#abebb31a8e7e26b191ce5eb347e6c4084">SimTK::Geo::calcTorsion</a></div><div class="ttdeci">static RealP calcTorsion(const Vec&lt; 3, RealP, S &gt; &amp;Pu, const Vec&lt; 3, RealP, S &gt; &amp;Puu, const Vec&lt; 3, RealP, S &gt; &amp;Puuu)</div><div class="ttdoc">Return tau, the torsion or &quot;second curvature&quot; given Pu=dP/du, Puu=d2P/du2, Puuu=d3P/du3. </div><div class="ttdef"><b>Definition:</b> Geo.h:306</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a022a5f4a5fc4359d76d67256298a480b"><div class="ttname"><a href="classSimTK_1_1Geo.html#a022a5f4a5fc4359d76d67256298a480b">SimTK::Geo::getDefaultTol</a></div><div class="ttdeci">static RealP getDefaultTol()</div><div class="ttdoc">Return the default tolerance to use for degeneracy tests and other tests for &quot;too small&quot; or &quot;near eno...</div><div class="ttdef"><b>Definition:</b> Geo.h:376</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_a099f600ddc5f23a4abd3e2c1b485a9be"><div class="ttname"><a href="classSimTK_1_1Geo.html#a099f600ddc5f23a4abd3e2c1b485a9be">SimTK::Geo::Sphere</a></div><div class="ttdeci">Sphere_&lt; Real &gt; Sphere</div><div class="ttdef"><b>Definition:</b> Geo.h:71</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1BicubicHermitePatch___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1BicubicHermitePatch__.html">SimTK::Geo::BicubicHermitePatch_</a></div><div class="ttdoc">A primitive useful for computations involving a single bicubic Hermite patch. </div><div class="ttdef"><b>Definition:</b> Geo.h:66</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_abfc604542773ad90bbbb49c2143a98b7"><div class="ttname"><a href="classSimTK_1_1Geo.html#abfc604542773ad90bbbb49c2143a98b7">SimTK::Geo::stretchBy</a></div><div class="ttdeci">static RealP stretchBy(RealP length, RealP tol)</div><div class="ttdoc">Stretch a dimension by a given tolerance amount. </div><div class="ttdef"><b>Definition:</b> Geo.h:398</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1Sphere___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1Sphere__.html">SimTK::Geo::Sphere_</a></div><div class="ttdoc">A geometric primitive representing a sphere by its radius and center point, and a collection of spher...</div><div class="ttdef"><b>Definition:</b> Geo.h:56</div></div>
<div class="ttc" id="classSimTK_1_1Geo_html_af7647fade9679a5810ec7e38d00a30dc"><div class="ttname"><a href="classSimTK_1_1Geo.html#af7647fade9679a5810ec7e38d00a30dc">SimTK::Geo::Circle</a></div><div class="ttdeci">Circle_&lt; Real &gt; Circle</div><div class="ttdef"><b>Definition:</b> Geo.h:75</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1CubicBezierCurve___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1CubicBezierCurve__.html">SimTK::Geo::CubicBezierCurve_</a></div><div class="ttdoc">This is a primitive useful for computations involving a single cubic Bezier curve segment...</div><div class="ttdef"><b>Definition:</b> Geo.h:67</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1BicubicBezierPatch___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1BicubicBezierPatch__.html">SimTK::Geo::BicubicBezierPatch_</a></div><div class="ttdoc">A primitive useful for computations involving a single bicubic Bezier patch. </div><div class="ttdef"><b>Definition:</b> Geo.h:68</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1Point___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1Point__.html">SimTK::Geo::Point_</a></div><div class="ttdoc">A 3d point primitive represented by a Vec3 from the origin of an unspecified frame, and a collection of point-related utility methods. </div><div class="ttdef"><b>Definition:</b> Geo.h:55</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1Circle___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1Circle__.html">SimTK::Geo::Circle_</a></div><div class="ttdef"><b>Definition:</b> Geo.h:60</div></div>
<div class="ttc" id="SimTKmath_2include_2simmath_2internal_2common_8h_html_a5696280cbb2e30d11fd3755c78efc519"><div class="ttname"><a href="SimTKmath_2include_2simmath_2internal_2common_8h.html#a5696280cbb2e30d11fd3755c78efc519">SimTK_SIMMATH_EXPORT</a></div><div class="ttdeci">#define SimTK_SIMMATH_EXPORT</div><div class="ttdef"><b>Definition:</b> SimTKmath/include/simmath/internal/common.h:64</div></div>
<div class="ttc" id="classSimTK_1_1NTraits_html"><div class="ttname"><a href="classSimTK_1_1NTraits.html">SimTK::NTraits</a></div><div class="ttdef"><b>Definition:</b> negator.h:64</div></div>
<div class="ttc" id="classSimTK_1_1Geo_1_1Plane___html"><div class="ttname"><a href="classSimTK_1_1Geo_1_1Plane__.html">SimTK::Geo::Plane_</a></div><div class="ttdef"><b>Definition:</b> Geo.h:59</div></div>
<div class="ttc" id="group__cube_html_gafa5cf370fddde320439c9e579f2e69c0"><div class="ttname"><a href="group__cube.html#gafa5cf370fddde320439c9e579f2e69c0">SimTK::cube</a></div><div class="ttdeci">unsigned char cube(unsigned char u)</div><div class="ttdef"><b>Definition:</b> Scalar.h:420</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0dac7d43ffd09b4f66c73722b24e8edd.html">simbody</a></li><li class="navelem"><a class="el" href="dir_8cfacc7a23669801e5e34e89ffacd055.html">SimTKmath</a></li><li class="navelem"><a class="el" href="dir_7181f5626217c397f125339043936b7e.html">Geometry</a></li><li class="navelem"><a class="el" href="dir_6e5f12bdf48dc116c954e68f4d46a66f.html">include</a></li><li class="navelem"><a class="el" href="dir_f0a409b5547dd4c78e5fdbb783303658.html">simmath</a></li><li class="navelem"><a class="el" href="dir_4fed85f84876bd8bd7ac9e25cc1f053a.html">internal</a></li><li class="navelem"><a class="el" href="Geo_8h.html">Geo.h</a></li>
    <li class="footer">Generated on Sat Jan 13 2018 15:29:04 for Simbody by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
