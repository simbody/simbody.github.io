<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Simbody: SimTK::System Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Simbody
   &#160;<span id="projectnumber">3.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classSimTK_1_1System.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classSimTK_1_1System-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SimTK::System Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the base class that serves as the parent of all <a class="el" href="namespaceSimTK.html" title="This is the top-level SimTK namespace into which all SimTK names are placed to avoid collision with o...">SimTK</a> System objects; most commonly Simbody's <a class="el" href="classSimTK_1_1MultibodySystem.html" title="The job of the MultibodySystem class is to coordinate the activities of various subsystems which can ...">MultibodySystem</a> class.  
 <a href="classSimTK_1_1System.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for SimTK::System:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classSimTK_1_1System.png" usemap="#SimTK::System_map" alt=""/>
  <map id="SimTK::System_map" name="SimTK::System_map">
<area href="classSimTK_1_1MultibodySystem.html" title="The job of the MultibodySystem class is to coordinate the activities of various subsystems which can ..." alt="SimTK::MultibodySystem" shape="rect" coords="0,56,204,80"/>
<area href="classSimTK_1_1ParticleConSurfaceSystem.html" alt="SimTK::ParticleConSurfaceSystem" shape="rect" coords="214,56,418,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System_1_1Guts.html">Guts</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the declaration for the <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> class, the abstract object to which a <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> handle points.  <a href="classSimTK_1_1System_1_1Guts.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">System-wide properties</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods set parameters that provide System-level defaults that can be used by various algorithms.</p>
<p>This includes nominal time and length scales, and hints that can be useful when visualizing this System (for example, does it make sense to show a ground plane?). There are defaults for all of these parameters so you don't need to set them unless the defaults are not satisfactory. </p>
</div></td></tr>
<tr class="memitem:a48108e379cbb25b518a592f5eb4dba0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1System.html">System</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a48108e379cbb25b518a592f5eb4dba0d">setUpDirection</a> (const <a class="el" href="classSimTK_1_1CoordinateDirection.html">CoordinateDirection</a> &amp;up)</td></tr>
<tr class="memdesc:a48108e379cbb25b518a592f5eb4dba0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a hint to other software as to which way this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>'s designer considers to be "up".  <a href="#a48108e379cbb25b518a592f5eb4dba0d">More...</a><br /></td></tr>
<tr class="separator:a48108e379cbb25b518a592f5eb4dba0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22b56e154d4416c321c8219ff39ade0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1System.html">System</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aa22b56e154d4416c321c8219ff39ade0">setUseUniformBackground</a> (bool useUniformBackground)</td></tr>
<tr class="memdesc:aa22b56e154d4416c321c8219ff39ade0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a hint to visualization software that this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> is best viewed against a uniform background (e.g. all white) rather than against a ground plane.  <a href="#aa22b56e154d4416c321c8219ff39ade0">More...</a><br /></td></tr>
<tr class="separator:aa22b56e154d4416c321c8219ff39ade0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff6c479f189d6d161498d8276ba5846"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1System.html">System</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a0ff6c479f189d6d161498d8276ba5846">setDefaultTimeScale</a> (<a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> tc)</td></tr>
<tr class="memdesc:a0ff6c479f189d6d161498d8276ba5846"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Advanced) This is a hint used for some default behaviors, such as determining an initial step size for an integrator, or the default unit error for a constraint error derivative from the original constraint.  <a href="#a0ff6c479f189d6d161498d8276ba5846">More...</a><br /></td></tr>
<tr class="separator:a0ff6c479f189d6d161498d8276ba5846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b24e83f5e4a61c7d8eef49c6196a06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1System.html">System</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a65b24e83f5e4a61c7d8eef49c6196a06">setDefaultLengthScale</a> (<a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> lc)</td></tr>
<tr class="memdesc:a65b24e83f5e4a61c7d8eef49c6196a06"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Advanced) This is a hint that can be used to get a sense of what a "unit 
length" looks like for this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> in the units it uses.  <a href="#a65b24e83f5e4a61c7d8eef49c6196a06">More...</a><br /></td></tr>
<tr class="separator:a65b24e83f5e4a61c7d8eef49c6196a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31a77ed678547306d48b0c72df969c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ac31a77ed678547306d48b0c72df969c6">setHasTimeAdvancedEvents</a> (bool)</td></tr>
<tr class="memdesc:ac31a77ed678547306d48b0c72df969c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This determines whether this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> wants to be notified whenever time advances irreversibly.  <a href="#ac31a77ed678547306d48b0c72df969c6">More...</a><br /></td></tr>
<tr class="separator:ac31a77ed678547306d48b0c72df969c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c8dc0ebd5d350c39ef8561823eae34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1CoordinateDirection.html">CoordinateDirection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a15c8dc0ebd5d350c39ef8561823eae34">getUpDirection</a> () const </td></tr>
<tr class="memdesc:a15c8dc0ebd5d350c39ef8561823eae34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current setting of the "up" direction hint.  <a href="#a15c8dc0ebd5d350c39ef8561823eae34">More...</a><br /></td></tr>
<tr class="separator:a15c8dc0ebd5d350c39ef8561823eae34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae06f14b32dd9d414c92255e58a842bbc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ae06f14b32dd9d414c92255e58a842bbc">getUseUniformBackground</a> () const </td></tr>
<tr class="memdesc:ae06f14b32dd9d414c92255e58a842bbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current setting of the "use uniform background" visualization hint.  <a href="#ae06f14b32dd9d414c92255e58a842bbc">More...</a><br /></td></tr>
<tr class="separator:ae06f14b32dd9d414c92255e58a842bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae38b5db206b4856fc0f2e47deb5809c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aae38b5db206b4856fc0f2e47deb5809c">getDefaultTimeScale</a> () const </td></tr>
<tr class="memdesc:aae38b5db206b4856fc0f2e47deb5809c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently-set value for the default time scale, 0.1 time units if it has never been set.  <a href="#aae38b5db206b4856fc0f2e47deb5809c">More...</a><br /></td></tr>
<tr class="separator:aae38b5db206b4856fc0f2e47deb5809c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5711bd3b05e2ccc50aef4e643a1840"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#adb5711bd3b05e2ccc50aef4e643a1840">getDefaultLengthScale</a> () const </td></tr>
<tr class="memdesc:adb5711bd3b05e2ccc50aef4e643a1840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently-set value for the default length scale, 1 length unit if it has never been set.  <a href="#adb5711bd3b05e2ccc50aef4e643a1840">More...</a><br /></td></tr>
<tr class="separator:adb5711bd3b05e2ccc50aef4e643a1840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a69d10ac1c7953d6e95a852e9aff188"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a6a69d10ac1c7953d6e95a852e9aff188">hasTimeAdvancedEvents</a> () const </td></tr>
<tr class="memdesc:a6a69d10ac1c7953d6e95a852e9aff188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current value of the flag indicating whether this System wants an event generated whenever time advances irreversibly.  <a href="#a6a69d10ac1c7953d6e95a852e9aff188">More...</a><br /></td></tr>
<tr class="separator:a6a69d10ac1c7953d6e95a852e9aff188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Event handlers and reporters</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods are used to attach event handlers and reporters to this System.</p>
<p>These are actually added to the <a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html" title="This is a concrete Subsystem that is part of every System. It provides a variety of services for the ...">DefaultSystemSubsystem</a> that is contained in every <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>. </p>
</div></td></tr>
<tr class="memitem:af37126f1c07e4f0436d5942cbdff72e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#af37126f1c07e4f0436d5942cbdff72e6">addEventHandler</a> (<a class="el" href="classSimTK_1_1ScheduledEventHandler.html">ScheduledEventHandler</a> *handler)</td></tr>
<tr class="memdesc:af37126f1c07e4f0436d5942cbdff72e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="classSimTK_1_1ScheduledEventHandler.html" title="ScheduledEventHandler is a subclass of EventHandler for events that occur at a particular time that i...">ScheduledEventHandler</a> to this System, which takes over ownership of the event handler object.  <a href="#af37126f1c07e4f0436d5942cbdff72e6">More...</a><br /></td></tr>
<tr class="separator:af37126f1c07e4f0436d5942cbdff72e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ea777ee8f406ded887c3747f5be11f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a02ea777ee8f406ded887c3747f5be11f">addEventHandler</a> (<a class="el" href="classSimTK_1_1TriggeredEventHandler.html">TriggeredEventHandler</a> *handler)</td></tr>
<tr class="memdesc:a02ea777ee8f406ded887c3747f5be11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="classSimTK_1_1TriggeredEventHandler.html" title="TriggeredEventHandler is a subclass of EventHandler for events that occur when some condition is sati...">TriggeredEventHandler</a> to this System, which takes over ownership of the event handler object.  <a href="#a02ea777ee8f406ded887c3747f5be11f">More...</a><br /></td></tr>
<tr class="separator:a02ea777ee8f406ded887c3747f5be11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41a6340e813fa89646b0ddac3a7fd1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ac41a6340e813fa89646b0ddac3a7fd1d">addEventReporter</a> (<a class="el" href="classSimTK_1_1ScheduledEventReporter.html">ScheduledEventReporter</a> *handler) const </td></tr>
<tr class="memdesc:ac41a6340e813fa89646b0ddac3a7fd1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="classSimTK_1_1ScheduledEventReporter.html" title="ScheduledEventReporter is a subclass of EventReporter for events that occur at a particular time that...">ScheduledEventReporter</a> to this System, which takes over ownership of the event reporter object.  <a href="#ac41a6340e813fa89646b0ddac3a7fd1d">More...</a><br /></td></tr>
<tr class="separator:ac41a6340e813fa89646b0ddac3a7fd1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbe3e249de51d0188758685ba9826ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a2dbe3e249de51d0188758685ba9826ad">addEventReporter</a> (<a class="el" href="classSimTK_1_1TriggeredEventReporter.html">TriggeredEventReporter</a> *handler) const </td></tr>
<tr class="memdesc:a2dbe3e249de51d0188758685ba9826ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="classSimTK_1_1TriggeredEventReporter.html" title="TriggeredEventReporter is a subclass of EventReporter for events that occur when some condition is sa...">TriggeredEventReporter</a> to this System, which takes over ownership of the event reporter object.  <a href="#a2dbe3e249de51d0188758685ba9826ad">More...</a><br /></td></tr>
<tr class="separator:a2dbe3e249de51d0188758685ba9826ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Realization</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods provide the ability to compute the consequences that follow from the values of state variables, leaving the results in the appropriate cache.</p>
<p>Usually this refers to values in a given <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> object, but we also use the same concept for values assigned to a System during its (extended) construction, which we call <em>Topological</em> variables. The <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> method is called at the end of construction, allocating resources, performing computations, and creating a default <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a>, with all results stored in a cache that is maintained by the System itself. The other <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> methods are given a <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> object to work with and store their results in that <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> object without making any changes to the System. </p>
</div></td></tr>
<tr class="memitem:aafd93d926012dc3d754d63126fa75355"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355">realizeTopology</a> () const </td></tr>
<tr class="memdesc:aafd93d926012dc3d754d63126fa75355"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following call must be made after any topological change has been made to this System, before the System can be used to perform any computations.  <a href="#aafd93d926012dc3d754d63126fa75355">More...</a><br /></td></tr>
<tr class="separator:aafd93d926012dc3d754d63126fa75355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca986159e75689b55bb63be374f4b933"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aca986159e75689b55bb63be374f4b933">getDefaultState</a> () const </td></tr>
<tr class="memdesc:aca986159e75689b55bb63be374f4b933"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is available after <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a>, and will throw an exception if <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> has not been called since the most recent topological change to this System.  <a href="#aca986159e75689b55bb63be374f4b933">More...</a><br /></td></tr>
<tr class="separator:aca986159e75689b55bb63be374f4b933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe10df3e1df1326164e32098a73772a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#abe10df3e1df1326164e32098a73772a9">updDefaultState</a> ()</td></tr>
<tr class="memdesc:abe10df3e1df1326164e32098a73772a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Don't use this; make a copy of the default state instead and modify your copy.  <a href="#abe10df3e1df1326164e32098a73772a9">More...</a><br /></td></tr>
<tr class="separator:abe10df3e1df1326164e32098a73772a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ebc894406cd86fdb55d32d274f81ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a04ebc894406cd86fdb55d32d274f81ac">realizeModel</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state) const </td></tr>
<tr class="memdesc:a04ebc894406cd86fdb55d32d274f81ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realize the model to be used for subsequent computations with the given <em>state</em>.  <a href="#a04ebc894406cd86fdb55d32d274f81ac">More...</a><br /></td></tr>
<tr class="separator:a04ebc894406cd86fdb55d32d274f81ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39adc09111d252b2253485047ee7ce30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30">realize</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="classSimTK_1_1Stage.html">Stage</a> stage=<a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13a80571f7c9ec481b305a9c6b17da32014">Stage::HighestRuntime</a>) const </td></tr>
<tr class="memdesc:a39adc09111d252b2253485047ee7ce30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realize the given <em>state</em> to the indicated <em>stage</em>.  <a href="#a39adc09111d252b2253485047ee7ce30">More...</a><br /></td></tr>
<tr class="separator:a39adc09111d252b2253485047ee7ce30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">The Constrained System</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods deal with prescribed motion and constraints on the allowable values of q and u.</p>
<p>They are primarly for use by numerical integrators. Prescribed motion is always resolved exactly because it involves explicit computation of q=q(t) and u=u(t,q). Constraints are given by implicit equations like g(q)=0 and are solved to a specified tolerance. Also, prescribed motion has precedence over constraints in the sense that no changes will be made to prescribed variables in order to satisfy constraints; only the free variables are modified by constraint solvers. </p>
</div></td></tr>
<tr class="memitem:a4f03913f3c308b36ae9ee0a31e1d0026"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026">project</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> accuracy=-1) const </td></tr>
<tr class="memdesc:a4f03913f3c308b36ae9ee0a31e1d0026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting the generalized coordinates q and generalized speeds u onto the position and velocity constraint manifolds.  <a href="#a4f03913f3c308b36ae9ee0a31e1d0026">More...</a><br /></td></tr>
<tr class="separator:a4f03913f3c308b36ae9ee0a31e1d0026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7523e953d467c665e4808e8c88ab5af0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0">projectQ</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> accuracy=-1) const </td></tr>
<tr class="memdesc:a7523e953d467c665e4808e8c88ab5af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remaining free q's.  <a href="#a7523e953d467c665e4808e8c88ab5af0">More...</a><br /></td></tr>
<tr class="separator:a7523e953d467c665e4808e8c88ab5af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86f067cd6f00d338cf1c4b773a86d07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07">projectU</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> accuracy=-1) const </td></tr>
<tr class="memdesc:ac86f067cd6f00d338cf1c4b773a86d07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remaining free u's.  <a href="#ac86f067cd6f00d338cf1c4b773a86d07">More...</a><br /></td></tr>
<tr class="separator:ac86f067cd6f00d338cf1c4b773a86d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106082b22732f8cf58a6c5c2d6e1b59f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a106082b22732f8cf58a6c5c2d6e1b59f">projectQ</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;qErrEst, const <a class="el" href="classSimTK_1_1ProjectOptions.html">ProjectOptions</a> &amp;options, <a class="el" href="classSimTK_1_1ProjectResults.html">ProjectResults</a> &amp;results) const </td></tr>
<tr class="memdesc:a106082b22732f8cf58a6c5c2d6e1b59f"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Advanced) Project free q's so that position constraints are satisfied and remove the corresponding error from the supplied error estimate.  <a href="#a106082b22732f8cf58a6c5c2d6e1b59f">More...</a><br /></td></tr>
<tr class="separator:a106082b22732f8cf58a6c5c2d6e1b59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3014df5714167d59163c79473e08b97f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a3014df5714167d59163c79473e08b97f">projectU</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;uErrEst, const <a class="el" href="classSimTK_1_1ProjectOptions.html">ProjectOptions</a> &amp;options, <a class="el" href="classSimTK_1_1ProjectResults.html">ProjectResults</a> &amp;results) const </td></tr>
<tr class="memdesc:a3014df5714167d59163c79473e08b97f"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Advanced) Project free u's so that velocity constraints are satisfied and remove the corresponding error from the supplied error estimate.  <a href="#a3014df5714167d59163c79473e08b97f">More...</a><br /></td></tr>
<tr class="separator:a3014df5714167d59163c79473e08b97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8515581300ce1496748a84b1f5a79c62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a8515581300ce1496748a84b1f5a79c62">prescribe</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state) const </td></tr>
<tr class="memdesc:a8515581300ce1496748a84b1f5a79c62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set values for prescribed positions q and velocities u.  <a href="#a8515581300ce1496748a84b1f5a79c62">More...</a><br /></td></tr>
<tr class="separator:a8515581300ce1496748a84b1f5a79c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4aa2fffcdc6f9aa541078b3f327c03"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03">prescribeQ</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state) const </td></tr>
<tr class="memdesc:a2c4aa2fffcdc6f9aa541078b3f327c03"><td class="mdescLeft">&#160;</td><td class="mdescRight">This solver sets prescribed q's to their known values q=q(t) as a function of time (and possibly earlier-stage discrete state variables).  <a href="#a2c4aa2fffcdc6f9aa541078b3f327c03">More...</a><br /></td></tr>
<tr class="separator:a2c4aa2fffcdc6f9aa541078b3f327c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608f8a85ce62a78b794d3d2225c7de46"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46">prescribeU</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state) const </td></tr>
<tr class="memdesc:a608f8a85ce62a78b794d3d2225c7de46"><td class="mdescLeft">&#160;</td><td class="mdescRight">This solver sets prescribed u's to their known values u=u(t,q) as a function of time and position variables q (and possibly earlier-stage discrete state variables).  <a href="#a608f8a85ce62a78b794d3d2225c7de46">More...</a><br /></td></tr>
<tr class="separator:a608f8a85ce62a78b794d3d2225c7de46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1aca5d4b4fc7dd27d67d5ce3c6bfa0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aa1aca5d4b4fc7dd27d67d5ce3c6bfa0c">getFreeQIndex</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1SystemQIndex.html">SystemQIndex</a> &gt; &amp;freeQs) const </td></tr>
<tr class="memdesc:aa1aca5d4b4fc7dd27d67d5ce3c6bfa0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the indices of the q's in the given <em>state</em> that are free; that is, they are not affected by <a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a>.  <a href="#aa1aca5d4b4fc7dd27d67d5ce3c6bfa0c">More...</a><br /></td></tr>
<tr class="separator:aa1aca5d4b4fc7dd27d67d5ce3c6bfa0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45ac98427ed88cbb5618519e3721d96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#af45ac98427ed88cbb5618519e3721d96">getFreeUIndex</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1SystemUIndex.html">SystemUIndex</a> &gt; &amp;freeUs) const </td></tr>
<tr class="memdesc:af45ac98427ed88cbb5618519e3721d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the indices of the u's in the given <em>state</em> that are free; that is, they are not affected by <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a>.  <a href="#af45ac98427ed88cbb5618519e3721d96">More...</a><br /></td></tr>
<tr class="separator:af45ac98427ed88cbb5618519e3721d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">The Discrete System</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods deal with the discrete (event-driven) aspects of this System.</p>
<p>These methods are primarily for the use of <a class="el" href="classSimTK_1_1Integrator.html" title="An Integrator is an object that can advance the State of a System through time. ">Integrator</a> objects that detect events and <a class="el" href="classSimTK_1_1TimeStepper.html" title="This class uses an Integrator to advance a System through time. ">TimeStepper</a> objects that deal with them by calling appropriate handlers. In general, events interrupt the continuous evolution of a system, dividing a simulation into continuous segments interrupted by discontinuous changes of state. There are also discrete variables that can be updated without disrupting the continuous flow. These are called "auto update variables" and are updated at the beginning of every integration step, right <em>after</em> the initial state derivatives have been recorded. Thus the step proceeds with those derivatives even if the update could cause them to change. These updates are initiated by <a class="el" href="classSimTK_1_1Integrator.html" title="An Integrator is an object that can advance the State of a System through time. ">Integrator</a> objects at the start of every continuous step, while trajectory-affecting discrete variable updates are initiated only by <a class="el" href="classSimTK_1_1TimeStepper.html" title="This class uses an Integrator to advance a System through time. ">TimeStepper</a> objects via calls to event handlers.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1State.html#aaa2b067d10792c14666301c9bf2d77b9" title="This method allocates a DiscreteVariable whose value should be updated automatically after each time ...">State::allocateAutoUpdateDiscreteVariable()</a> </dd></dl>
</div></td></tr>
<tr class="memitem:a689865295cdc20f55ba2a4c078a80d0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a">handleEvents</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="classSimTK_1_1Event_1_1Cause.html">Event::Cause</a> cause, const <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventId.html">EventId</a> &gt; &amp;eventIds, const <a class="el" href="classSimTK_1_1HandleEventsOptions.html">HandleEventsOptions</a> &amp;options, <a class="el" href="classSimTK_1_1HandleEventsResults.html">HandleEventsResults</a> &amp;results) const </td></tr>
<tr class="memdesc:a689865295cdc20f55ba2a4c078a80d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This solver handles a set of events which a <a class="el" href="classSimTK_1_1TimeStepper.html" title="This class uses an Integrator to advance a System through time. ">TimeStepper</a> has denoted as having occurred at the given time and state.  <a href="#a689865295cdc20f55ba2a4c078a80d0a">More...</a><br /></td></tr>
<tr class="separator:a689865295cdc20f55ba2a4c078a80d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87826365bf47122b842d55fcab0248b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aa87826365bf47122b842d55fcab0248b">reportEvents</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="classSimTK_1_1Event_1_1Cause.html">Event::Cause</a> cause, const <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventId.html">EventId</a> &gt; &amp;eventIds) const </td></tr>
<tr class="memdesc:aa87826365bf47122b842d55fcab0248b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is similar to <a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a>, but does not allow the <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> to be modified.  <a href="#aa87826365bf47122b842d55fcab0248b">More...</a><br /></td></tr>
<tr class="separator:aa87826365bf47122b842d55fcab0248b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c2c0eba7798f37d75387a85c5b27c6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a2c2c0eba7798f37d75387a85c5b27c6c">calcEventTriggerInfo</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventTriggerInfo.html">EventTriggerInfo</a> &gt; &amp;triggerInfo) const </td></tr>
<tr class="memdesc:a2c2c0eba7798f37d75387a85c5b27c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine provides the <a class="el" href="classSimTK_1_1Integrator.html" title="An Integrator is an object that can advance the State of a System through time. ">Integrator</a> with information it needs about the individual event trigger functions, such as which sign transitions are relevant and how tightly we need to localize.  <a href="#a2c2c0eba7798f37d75387a85c5b27c6c">More...</a><br /></td></tr>
<tr class="separator:a2c2c0eba7798f37d75387a85c5b27c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14bfcf5759f8088df5a5b5876dbc9551"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a14bfcf5759f8088df5a5b5876dbc9551">calcTimeOfNextScheduledEvent</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> &amp;tNextEvent, <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventId.html">EventId</a> &gt; &amp;eventIds, bool includeCurrentTime) const </td></tr>
<tr class="memdesc:a14bfcf5759f8088df5a5b5876dbc9551"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine should be called to determine if and when there is an event scheduled to occur at a particular time.  <a href="#a14bfcf5759f8088df5a5b5876dbc9551">More...</a><br /></td></tr>
<tr class="separator:a14bfcf5759f8088df5a5b5876dbc9551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef441c402f8e6baea15674944853009b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aef441c402f8e6baea15674944853009b">calcTimeOfNextScheduledReport</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> &amp;tNextEvent, <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventId.html">EventId</a> &gt; &amp;eventIds, bool includeCurrentTime) const </td></tr>
<tr class="memdesc:aef441c402f8e6baea15674944853009b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine is similar to <a class="el" href="classSimTK_1_1System.html#a14bfcf5759f8088df5a5b5876dbc9551" title="This routine should be called to determine if and when there is an event scheduled to occur at a part...">calcTimeOfNextScheduledEvent()</a>, but is used for "reporting events" which do not modify the state.  <a href="#aef441c402f8e6baea15674944853009b">More...</a><br /></td></tr>
<tr class="separator:aef441c402f8e6baea15674944853009b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">The Fast System</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>(NOT IMPLEMENTED YET) These methods are for state variables whose dynamics are considered very fast compared to the rest of the system, meaning that their values can be determined by solving for algebraic equilibrium conditions rather than integrating differential equations.</p>
</div></td></tr>
<tr class="memitem:a94090d706e7373e8cf633ed6f52c8e2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a94090d706e7373e8cf633ed6f52c8e2c">relax</a> (<a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, <a class="el" href="classSimTK_1_1Stage.html">Stage</a> stage, <a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> accuracy=-1) const </td></tr>
<tr class="memdesc:a94090d706e7373e8cf633ed6f52c8e2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This optional method should modify fast variables at the given stage until they satisfy some relaxation criteria.  <a href="#a94090d706e7373e8cf633ed6f52c8e2c">More...</a><br /></td></tr>
<tr class="separator:a94090d706e7373e8cf633ed6f52c8e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Kinematic differential equations</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods are primarily for use by numerical integration methods.</p>
<p>Generalized coordinates q are not independent of generalized speeds u; they are related by the kinematic differential equation qdot=N(q)*u, where N is an nqXnu block diagonal, invertible matrix in the sense that u=pinv(N)*qdot, where pinv(N) is the pseudoinverse of N. N has full column rank, so pinv(N)*N = I, but N*pinv(N) != I.</p>
<p>Just as N provides the relation between velocities expressed in u-space and the equivalent in q-space, its transpose ~N relates forces in q-space to their equivalent in u-space: fu=~N*fq, and fq=~pinv(N)*fu. (Note that ~pinv(X)==pinv(~X).) This satisfies power=~fq*qdot==~fu*u as it must.</p>
<p>We provide fast O(n) operators for multiplication by N, pinv(N), and their transposes. N is often mostly an identity matrix so very little computation is required. </p>
</div></td></tr>
<tr class="memitem:a49bdc882a0672512d3d8543fa74ee60a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a49bdc882a0672512d3d8543fa74ee60a">multiplyByN</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, const <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;u, <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;dq) const </td></tr>
<tr class="memdesc:a49bdc882a0672512d3d8543fa74ee60a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate dq=N*u in O(n) time (very fast).  <a href="#a49bdc882a0672512d3d8543fa74ee60a">More...</a><br /></td></tr>
<tr class="separator:a49bdc882a0672512d3d8543fa74ee60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff01072399415ff519145567e2f5e87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a6ff01072399415ff519145567e2f5e87">multiplyByNTranspose</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, const <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;fq, <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;fu) const </td></tr>
<tr class="memdesc:a6ff01072399415ff519145567e2f5e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate fu=~N*fq in O(n) time (very fast).  <a href="#a6ff01072399415ff519145567e2f5e87">More...</a><br /></td></tr>
<tr class="separator:a6ff01072399415ff519145567e2f5e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d75878460be0aa52382fb501de8d353"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a9d75878460be0aa52382fb501de8d353">multiplyByNPInv</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, const <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;dq, <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;u) const </td></tr>
<tr class="memdesc:a9d75878460be0aa52382fb501de8d353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate u=pinv(N)*dq in O(n) time (very fast).  <a href="#a9d75878460be0aa52382fb501de8d353">More...</a><br /></td></tr>
<tr class="separator:a9d75878460be0aa52382fb501de8d353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1259cd226aba4ea785e55750ae8302b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a1259cd226aba4ea785e55750ae8302b9">multiplyByNPInvTranspose</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;state, const <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;fu, <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;fq) const </td></tr>
<tr class="memdesc:a1259cd226aba4ea785e55750ae8302b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate fq=~pinv(N)*fu in O(n) time (very fast).  <a href="#a1259cd226aba4ea785e55750ae8302b9">More...</a><br /></td></tr>
<tr class="separator:a1259cd226aba4ea785e55750ae8302b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Statistics</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The System keeps mutable statistics internally, initialized to zero at construction.</p>
<p>These <em>must not</em> affect results in any way. </p>
</div></td></tr>
<tr class="memitem:aa6624457dde5c8b7ca66a3fbe1d0b2a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aa6624457dde5c8b7ca66a3fbe1d0b2a4">resetAllCountersToZero</a> ()</td></tr>
<tr class="memdesc:aa6624457dde5c8b7ca66a3fbe1d0b2a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zero out the statistics for this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>.  <a href="#aa6624457dde5c8b7ca66a3fbe1d0b2a4">More...</a><br /></td></tr>
<tr class="separator:aa6624457dde5c8b7ca66a3fbe1d0b2a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596ddf886b4da67cb626c540be63ba1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a596ddf886b4da67cb626c540be63ba1d">getNumRealizationsOfThisStage</a> (<a class="el" href="classSimTK_1_1Stage.html">Stage</a>) const </td></tr>
<tr class="memdesc:a596ddf886b4da67cb626c540be63ba1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whenever the system was realized from Stage-1 to the indicated <a class="el" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a>, this counter is bumped.  <a href="#a596ddf886b4da67cb626c540be63ba1d">More...</a><br /></td></tr>
<tr class="separator:a596ddf886b4da67cb626c540be63ba1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22400494518c82a3f7c76a98894e79b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ab22400494518c82a3f7c76a98894e79b">getNumRealizeCalls</a> () const </td></tr>
<tr class="memdesc:ab22400494518c82a3f7c76a98894e79b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a>, <a class="el" href="classSimTK_1_1System.html#a04ebc894406cd86fdb55d32d274f81ac" title="Realize the model to be used for subsequent computations with the given state. ">realizeModel()</a>, or <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a>, regardless of whether these routines actually did anything when called.  <a href="#ab22400494518c82a3f7c76a98894e79b">More...</a><br /></td></tr>
<tr class="separator:ab22400494518c82a3f7c76a98894e79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f33a3dbb6311daf8805aefa795c416"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#af2f33a3dbb6311daf8805aefa795c416">getNumPrescribeQCalls</a> () const </td></tr>
<tr class="memdesc:af2f33a3dbb6311daf8805aefa795c416"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of calls to the <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>'s <a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a> method.  <a href="#af2f33a3dbb6311daf8805aefa795c416">More...</a><br /></td></tr>
<tr class="separator:af2f33a3dbb6311daf8805aefa795c416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6835f2ba9c74e12a365a995c575ef3c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ae6835f2ba9c74e12a365a995c575ef3c">getNumPrescribeUCalls</a> () const </td></tr>
<tr class="memdesc:ae6835f2ba9c74e12a365a995c575ef3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of calls to the <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>'s <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a> method.  <a href="#ae6835f2ba9c74e12a365a995c575ef3c">More...</a><br /></td></tr>
<tr class="separator:ae6835f2ba9c74e12a365a995c575ef3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a86d135714abce04b16abe5d92a417"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a39a86d135714abce04b16abe5d92a417">getNumProjectQCalls</a> () const </td></tr>
<tr class="memdesc:a39a86d135714abce04b16abe5d92a417"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a>, regardless of whether the call did anything.  <a href="#a39a86d135714abce04b16abe5d92a417">More...</a><br /></td></tr>
<tr class="separator:a39a86d135714abce04b16abe5d92a417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9353d2a3a0ec327fc932386b2859446"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aa9353d2a3a0ec327fc932386b2859446">getNumFailedProjectQCalls</a> () const </td></tr>
<tr class="memdesc:aa9353d2a3a0ec327fc932386b2859446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a> that failed.  <a href="#aa9353d2a3a0ec327fc932386b2859446">More...</a><br /></td></tr>
<tr class="separator:aa9353d2a3a0ec327fc932386b2859446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ad0446ba8fe1b494ff5f8dd97576c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a00ad0446ba8fe1b494ff5f8dd97576c3">getNumQProjections</a> () const </td></tr>
<tr class="memdesc:a00ad0446ba8fe1b494ff5f8dd97576c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many of the successful <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a> calls actually did a constraint projection, rather than returning quickly?  <a href="#a00ad0446ba8fe1b494ff5f8dd97576c3">More...</a><br /></td></tr>
<tr class="separator:a00ad0446ba8fe1b494ff5f8dd97576c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b9fb2946b388cf061e106385d8bf586"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a3b9fb2946b388cf061e106385d8bf586">getNumQErrorEstimateProjections</a> () const </td></tr>
<tr class="memdesc:a3b9fb2946b388cf061e106385d8bf586"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many of the <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a> calls that did a constraint projection also projected an error estimate?  <a href="#a3b9fb2946b388cf061e106385d8bf586">More...</a><br /></td></tr>
<tr class="separator:a3b9fb2946b388cf061e106385d8bf586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642edc17d576f99502fe3a9bc356b0e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a642edc17d576f99502fe3a9bc356b0e6">getNumProjectUCalls</a> () const </td></tr>
<tr class="memdesc:a642edc17d576f99502fe3a9bc356b0e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a>, regardless of whether the call did anything.  <a href="#a642edc17d576f99502fe3a9bc356b0e6">More...</a><br /></td></tr>
<tr class="separator:a642edc17d576f99502fe3a9bc356b0e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4b3c6e405fbd428aad410bc2d6cea7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a6d4b3c6e405fbd428aad410bc2d6cea7">getNumFailedProjectUCalls</a> () const </td></tr>
<tr class="memdesc:a6d4b3c6e405fbd428aad410bc2d6cea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a> that failed.  <a href="#a6d4b3c6e405fbd428aad410bc2d6cea7">More...</a><br /></td></tr>
<tr class="separator:a6d4b3c6e405fbd428aad410bc2d6cea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49589140db74033d02e415348fa38f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#af49589140db74033d02e415348fa38f1">getNumUProjections</a> () const </td></tr>
<tr class="memdesc:af49589140db74033d02e415348fa38f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many of the successful <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a> calls actually did a constraint projection, rather than returning quickly?  <a href="#af49589140db74033d02e415348fa38f1">More...</a><br /></td></tr>
<tr class="separator:af49589140db74033d02e415348fa38f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0691cdb34eda5be9eaa0f3f7177ef2e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a0691cdb34eda5be9eaa0f3f7177ef2e3">getNumUErrorEstimateProjections</a> () const </td></tr>
<tr class="memdesc:a0691cdb34eda5be9eaa0f3f7177ef2e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many of the <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a> calls that did a constraint projection also projected an error estimate?  <a href="#a0691cdb34eda5be9eaa0f3f7177ef2e3">More...</a><br /></td></tr>
<tr class="separator:a0691cdb34eda5be9eaa0f3f7177ef2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011e7eff9361b2e128f7435ddd4ae87d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a011e7eff9361b2e128f7435ddd4ae87d">getNumHandlerCallsThatChangedStage</a> (<a class="el" href="classSimTK_1_1Stage.html">Stage</a>) const </td></tr>
<tr class="memdesc:a011e7eff9361b2e128f7435ddd4ae87d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a> reports the lowest <a class="el" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a> it modified and we bump the counter for that <a class="el" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a>.  <a href="#a011e7eff9361b2e128f7435ddd4ae87d">More...</a><br /></td></tr>
<tr class="separator:a011e7eff9361b2e128f7435ddd4ae87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50544edf6531886812ec4994a9bf5472"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a50544edf6531886812ec4994a9bf5472">getNumHandleEventCalls</a> () const </td></tr>
<tr class="memdesc:a50544edf6531886812ec4994a9bf5472"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the total number of calls to <a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a> regardless of the outcome.  <a href="#a50544edf6531886812ec4994a9bf5472">More...</a><br /></td></tr>
<tr class="separator:a50544edf6531886812ec4994a9bf5472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdeec2292b272af23c9347d1aaef2867"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#acdeec2292b272af23c9347d1aaef2867">getNumReportEventCalls</a> () const </td></tr>
<tr class="memdesc:acdeec2292b272af23c9347d1aaef2867"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the total number of calls to <a class="el" href="classSimTK_1_1System.html#aa87826365bf47122b842d55fcab0248b" title="This method is similar to handleEvents(), but does not allow the State to be modified. ">reportEvents()</a> regardless of the outcome.  <a href="#acdeec2292b272af23c9347d1aaef2867">More...</a><br /></td></tr>
<tr class="separator:acdeec2292b272af23c9347d1aaef2867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Construction and bookkeeping</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods are mostly for use by concrete Systems and will not typically be of interest to users.</p>
</div></td></tr>
<tr class="memitem:a5941f985aa91c4a13bc964c06562e68f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a5941f985aa91c4a13bc964c06562e68f">System</a> ()</td></tr>
<tr class="memdesc:a5941f985aa91c4a13bc964c06562e68f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor creates an empty handle.  <a href="#a5941f985aa91c4a13bc964c06562e68f">More...</a><br /></td></tr>
<tr class="separator:a5941f985aa91c4a13bc964c06562e68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de8bdbe5c484ef5b25c9d0a42e01921"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a0de8bdbe5c484ef5b25c9d0a42e01921">System</a> (const <a class="el" href="classSimTK_1_1System.html">System</a> &amp;)</td></tr>
<tr class="memdesc:a0de8bdbe5c484ef5b25c9d0a42e01921"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor (untested).  <a href="#a0de8bdbe5c484ef5b25c9d0a42e01921">More...</a><br /></td></tr>
<tr class="separator:a0de8bdbe5c484ef5b25c9d0a42e01921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6546ff05186570385606d0342e9d886"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1System.html">System</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ad6546ff05186570385606d0342e9d886">operator=</a> (const <a class="el" href="classSimTK_1_1System.html">System</a> &amp;)</td></tr>
<tr class="memdesc:ad6546ff05186570385606d0342e9d886"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assignment (untested).  <a href="#ad6546ff05186570385606d0342e9d886">More...</a><br /></td></tr>
<tr class="separator:ad6546ff05186570385606d0342e9d886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388f7dee9d5a987134f128822ab27eb8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a388f7dee9d5a987134f128822ab27eb8">~System</a> ()</td></tr>
<tr class="memdesc:a388f7dee9d5a987134f128822ab27eb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor here will invoke the virtual destructor in the <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> class and thus clean up all unneeded detritus owned by this System.  <a href="#a388f7dee9d5a987134f128822ab27eb8">More...</a><br /></td></tr>
<tr class="separator:a388f7dee9d5a987134f128822ab27eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f9a0687dfba4073561b8af7b638954"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSimTK_1_1String.html">String</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a33f9a0687dfba4073561b8af7b638954">getName</a> () const </td></tr>
<tr class="memdesc:a33f9a0687dfba4073561b8af7b638954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name assigned to this System (arbitrary).  <a href="#a33f9a0687dfba4073561b8af7b638954">More...</a><br /></td></tr>
<tr class="separator:a33f9a0687dfba4073561b8af7b638954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c2a92c914fab816a9906b01510e46e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSimTK_1_1String.html">String</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a50c2a92c914fab816a9906b01510e46e">getVersion</a> () const </td></tr>
<tr class="memdesc:a50c2a92c914fab816a9906b01510e46e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the version string assigned to this System (arbitrary).  <a href="#a50c2a92c914fab816a9906b01510e46e">More...</a><br /></td></tr>
<tr class="separator:a50c2a92c914fab816a9906b01510e46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1212b35fa9988617a6e3b179390baa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1SubsystemIndex.html">SubsystemIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a2f1212b35fa9988617a6e3b179390baa">adoptSubsystem</a> (<a class="el" href="classSimTK_1_1Subsystem.html">Subsystem</a> &amp;child)</td></tr>
<tr class="memdesc:a2f1212b35fa9988617a6e3b179390baa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take over ownership of the supplied subsystem and install it into the next free subsystem slot.  <a href="#a2f1212b35fa9988617a6e3b179390baa">More...</a><br /></td></tr>
<tr class="separator:a2f1212b35fa9988617a6e3b179390baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2625005bf4b2a3dba479a192d9d4b3ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a2625005bf4b2a3dba479a192d9d4b3ed">getNumSubsystems</a> () const </td></tr>
<tr class="memdesc:a2625005bf4b2a3dba479a192d9d4b3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">How may Subsystems are in here?  <a href="#a2625005bf4b2a3dba479a192d9d4b3ed">More...</a><br /></td></tr>
<tr class="separator:a2625005bf4b2a3dba479a192d9d4b3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9294351057026a1cdb9598b30f350cd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSimTK_1_1Subsystem.html">Subsystem</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ab9294351057026a1cdb9598b30f350cd">getSubsystem</a> (<a class="el" href="classSimTK_1_1SubsystemIndex.html">SubsystemIndex</a>) const </td></tr>
<tr class="memdesc:ab9294351057026a1cdb9598b30f350cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain read-only access to a particular subsystem by its index.  <a href="#ab9294351057026a1cdb9598b30f350cd">More...</a><br /></td></tr>
<tr class="separator:ab9294351057026a1cdb9598b30f350cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd488d61309a843be491384bd0fc2e05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1Subsystem.html">Subsystem</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#abd488d61309a843be491384bd0fc2e05">updSubsystem</a> (<a class="el" href="classSimTK_1_1SubsystemIndex.html">SubsystemIndex</a>)</td></tr>
<tr class="memdesc:abd488d61309a843be491384bd0fc2e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain writable access to a particular subsystem by its index.  <a href="#abd488d61309a843be491384bd0fc2e05">More...</a><br /></td></tr>
<tr class="separator:abd488d61309a843be491384bd0fc2e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4d6fb1dc801bf21587ac27f0bbff07"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html">DefaultSystemSubsystem</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ace4d6fb1dc801bf21587ac27f0bbff07">getDefaultSubsystem</a> () const </td></tr>
<tr class="memdesc:ace4d6fb1dc801bf21587ac27f0bbff07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get read-only access to the default subsystem which is present in every system.  <a href="#ace4d6fb1dc801bf21587ac27f0bbff07">More...</a><br /></td></tr>
<tr class="separator:ace4d6fb1dc801bf21587ac27f0bbff07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2225a7bd6fd66c628ed8c35077f0edca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html">DefaultSystemSubsystem</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a2225a7bd6fd66c628ed8c35077f0edca">updDefaultSubsystem</a> ()</td></tr>
<tr class="memdesc:a2225a7bd6fd66c628ed8c35077f0edca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get writable access to the default subsystem which is present in every system.  <a href="#a2225a7bd6fd66c628ed8c35077f0edca">More...</a><br /></td></tr>
<tr class="separator:a2225a7bd6fd66c628ed8c35077f0edca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef1e8631d4c629307d0fb8d4a42a3349"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aef1e8631d4c629307d0fb8d4a42a3349">operator const Subsystem &amp;</a> () const </td></tr>
<tr class="memdesc:aef1e8631d4c629307d0fb8d4a42a3349"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implicitly convert this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> into a const <a class="el" href="classSimTK_1_1Subsystem.html" title="A Subsystem is expected to be part of a larger System and to have interdependencies with other subsys...">Subsystem</a> reference; this actually returns a reference to the <a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html" title="This is a concrete Subsystem that is part of every System. It provides a variety of services for the ...">DefaultSystemSubsystem</a> contained in this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>.  <a href="#aef1e8631d4c629307d0fb8d4a42a3349">More...</a><br /></td></tr>
<tr class="separator:aef1e8631d4c629307d0fb8d4a42a3349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e6dec5b296dfd09de479ac3534a3eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#af5e6dec5b296dfd09de479ac3534a3eb">operator Subsystem &amp;</a> ()</td></tr>
<tr class="memdesc:af5e6dec5b296dfd09de479ac3534a3eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implicitly convert this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> into a writable <a class="el" href="classSimTK_1_1Subsystem.html" title="A Subsystem is expected to be part of a larger System and to have interdependencies with other subsys...">Subsystem</a> reference; this actually returns a reference to the <a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html" title="This is a concrete Subsystem that is part of every System. It provides a variety of services for the ...">DefaultSystemSubsystem</a> contained in this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>.  <a href="#af5e6dec5b296dfd09de479ac3534a3eb">More...</a><br /></td></tr>
<tr class="separator:af5e6dec5b296dfd09de479ac3534a3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9935bdda9ea407bb3b669d68f93b4a53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a9935bdda9ea407bb3b669d68f93b4a53">systemTopologyHasBeenRealized</a> () const </td></tr>
<tr class="memdesc:a9935bdda9ea407bb3b669d68f93b4a53"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Advanced) You can check whether <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> has been called since the last topological change to this Syatem.  <a href="#a9935bdda9ea407bb3b669d68f93b4a53">More...</a><br /></td></tr>
<tr class="separator:a9935bdda9ea407bb3b669d68f93b4a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a726f47afe785d14efca4369ebd0340d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceSimTK.html#a578ce671df2b7d61432037baba8e8870">StageVersion</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a726f47afe785d14efca4369ebd0340d0">getSystemTopologyCacheVersion</a> () const </td></tr>
<tr class="memdesc:a726f47afe785d14efca4369ebd0340d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Advanced) Return the current version number of this system's Topology cache information.  <a href="#a726f47afe785d14efca4369ebd0340d0">More...</a><br /></td></tr>
<tr class="separator:a726f47afe785d14efca4369ebd0340d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abde0d445d8c8ed23d9142b0d26c6e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a3abde0d445d8c8ed23d9142b0d26c6e8">setSystemTopologyCacheVersion</a> (<a class="el" href="namespaceSimTK.html#a578ce671df2b7d61432037baba8e8870">StageVersion</a> topoVersion) const </td></tr>
<tr class="memdesc:a3abde0d445d8c8ed23d9142b0d26c6e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Really advanced) Set the current version number of this system's Topology cache information.  <a href="#a3abde0d445d8c8ed23d9142b0d26c6e8">More...</a><br /></td></tr>
<tr class="separator:a3abde0d445d8c8ed23d9142b0d26c6e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45e623ec7b91415aa87c060d67a3bf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#af45e623ec7b91415aa87c060d67a3bf0">invalidateSystemTopologyCache</a> () const </td></tr>
<tr class="memdesc:af45e623ec7b91415aa87c060d67a3bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Advanced) Mark the Topology stage of this system and all its subsystems "not realized." This is normally handled automatically by whenever you make a Topology-stage change to any subsystem.  <a href="#af45e623ec7b91415aa87c060d67a3bf0">More...</a><br /></td></tr>
<tr class="separator:af45e623ec7b91415aa87c060d67a3bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba88dac52b3b28a184203458b00e530b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#aba88dac52b3b28a184203458b00e530b">calcDecorativeGeometryAndAppend</a> (const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;, <a class="el" href="classSimTK_1_1Stage.html">Stage</a>, <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1DecorativeGeometry.html">DecorativeGeometry</a> &gt; &amp;) const </td></tr>
<tr class="memdesc:aba88dac52b3b28a184203458b00e530b"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Advanced) Generate all decorative geometry computable at a specific stage; this is useful for visualizers.  <a href="#aba88dac52b3b28a184203458b00e530b">More...</a><br /></td></tr>
<tr class="separator:aba88dac52b3b28a184203458b00e530b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8a555b755c4ccf458ecdfebf13bda7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a1c8a555b755c4ccf458ecdfebf13bda7">isSameSystem</a> (const <a class="el" href="classSimTK_1_1System.html">System</a> &amp;otherSystem) const </td></tr>
<tr class="memdesc:a1c8a555b755c4ccf458ecdfebf13bda7"><td class="mdescLeft">&#160;</td><td class="mdescRight">There can be multiple handles referring to the same <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> object; they are considered to be the same <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>.  <a href="#a1c8a555b755c4ccf458ecdfebf13bda7">More...</a><br /></td></tr>
<tr class="separator:a1c8a555b755c4ccf458ecdfebf13bda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6946d8d9988a9e4ce8c4d977e94bef6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSimTK_1_1System_1_1Guts.html">Guts</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#ad6946d8d9988a9e4ce8c4d977e94bef6">getSystemGuts</a> () const </td></tr>
<tr class="memdesc:ad6946d8d9988a9e4ce8c4d977e94bef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a const reference to the <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> object to which this handle refers.  <a href="#ad6946d8d9988a9e4ce8c4d977e94bef6">More...</a><br /></td></tr>
<tr class="separator:ad6946d8d9988a9e4ce8c4d977e94bef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89c195d9f3bc604e7758e2f4d2a05165"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimTK_1_1System_1_1Guts.html">Guts</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a89c195d9f3bc604e7758e2f4d2a05165">updSystemGuts</a> ()</td></tr>
<tr class="memdesc:a89c195d9f3bc604e7758e2f4d2a05165"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a writable reference to the <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> object to which this handle refers.  <a href="#a89c195d9f3bc604e7758e2f4d2a05165">More...</a><br /></td></tr>
<tr class="separator:a89c195d9f3bc604e7758e2f4d2a05165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866f6290257b3368d9b9098ffb879bd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a866f6290257b3368d9b9098ffb879bd4">adoptSystemGuts</a> (<a class="el" href="classSimTK_1_1System_1_1Guts.html">System::Guts</a> *g)</td></tr>
<tr class="memdesc:a866f6290257b3368d9b9098ffb879bd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put new <em>unowned</em> <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">Guts</a> into this *empty* handle and take over ownership.  <a href="#a866f6290257b3368d9b9098ffb879bd4">More...</a><br /></td></tr>
<tr class="separator:a866f6290257b3368d9b9098ffb879bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fe155e614bbe89e960d5a588b95a0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a14fe155e614bbe89e960d5a588b95a0a">System</a> (<a class="el" href="classSimTK_1_1System_1_1Guts.html">System::Guts</a> *g)</td></tr>
<tr class="memdesc:a14fe155e614bbe89e960d5a588b95a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for internal use only.  <a href="#a14fe155e614bbe89e960d5a588b95a0a">More...</a><br /></td></tr>
<tr class="separator:a14fe155e614bbe89e960d5a588b95a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a41998f82345fcd24169897fd74d14e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a6a41998f82345fcd24169897fd74d14e">hasGuts</a> () const </td></tr>
<tr class="memdesc:a6a41998f82345fcd24169897fd74d14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if this System handle is not empty.  <a href="#a6a41998f82345fcd24169897fd74d14e">More...</a><br /></td></tr>
<tr class="separator:a6a41998f82345fcd24169897fd74d14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e58b7dfc3ebf27c5de0638be21e742"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a13e58b7dfc3ebf27c5de0638be21e742">isOwnerHandle</a> () const </td></tr>
<tr class="memdesc:a13e58b7dfc3ebf27c5de0638be21e742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal use only.  <a href="#a13e58b7dfc3ebf27c5de0638be21e742">More...</a><br /></td></tr>
<tr class="separator:a13e58b7dfc3ebf27c5de0638be21e742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3e37832adeb472aa44d92fa01a41d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a4f3e37832adeb472aa44d92fa01a41d8">isEmptyHandle</a> () const </td></tr>
<tr class="memdesc:a4f3e37832adeb472aa44d92fa01a41d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal use only.  <a href="#a4f3e37832adeb472aa44d92fa01a41d8">More...</a><br /></td></tr>
<tr class="separator:a4f3e37832adeb472aa44d92fa01a41d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a4987035570f1150fe0631dbef6dbd95b"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimTK_1_1System.html#a4987035570f1150fe0631dbef6dbd95b">Guts</a></td></tr>
<tr class="separator:a4987035570f1150fe0631dbef6dbd95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the base class that serves as the parent of all <a class="el" href="namespaceSimTK.html" title="This is the top-level SimTK namespace into which all SimTK names are placed to avoid collision with o...">SimTK</a> System objects; most commonly Simbody's <a class="el" href="classSimTK_1_1MultibodySystem.html" title="The job of the MultibodySystem class is to coordinate the activities of various subsystems which can ...">MultibodySystem</a> class. </p>
<p>System is also the object type on which the Simbody numerical integrators operate, and many of the methods provided here are primarily for use by integrators.</p>
<p>A System serves as a mediator for a group of interacting <a class="el" href="classSimTK_1_1Subsystem.html" title="A Subsystem is expected to be part of a larger System and to have interdependencies with other subsys...">Subsystem</a> objects. All will share a single system <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a>, and typically subsystems will need access to content in the state which is managed by other subsystems. A System provides a unique <a class="el" href="classSimTK_1_1SubsystemIndex.html" title="Provide a unique integer type for identifying Subsystems. ">SubsystemIndex</a> (a small positive integer) for each of its subsystems, and the subsystems are constructed knowing their indices. The indices are used subsequently by the subsystems to find their own entries in the system state, and by each subsystem to refer to others within the same system. Index 0 is reserved for use by the System itself, e.g. for system-global state variables, which are maintained in subsystem 0.</p>
<p>Concrete Systems understand the kinds of subsystems they contain. For example, a <a class="el" href="classSimTK_1_1MultibodySystem.html" title="The job of the MultibodySystem class is to coordinate the activities of various subsystems which can ...">MultibodySystem</a> might contain a mechanical subsystem, some force subsystems, and a geometry subsystem. At each computation stage, a subsystem is realized in a single operation. That operation can refer to computations from already-realized subsystems, but cannot initiate computation in other subsystems. The System must know the proper order in which to realize the subsystems at each stage, and that ordering is likely to vary with stage. For example, at Position stage the mechanical positions must be realized before the configuration-dependent force elements. However, at Acceleration stage, the force elements must be realized before the mechanical accelerations can be calculated.</p>
<p>There are three distinct users of this class:</p><ul>
<li>System Users: people who are making use of a concrete System (which will inherit methods from this class).</li>
<li>Numerical integrators: <a class="el" href="classSimTK_1_1TimeStepper.html" title="This class uses an Integrator to advance a System through time. ">TimeStepper</a> and <a class="el" href="classSimTK_1_1Integrator.html" title="An Integrator is an object that can advance the State of a System through time. ">Integrator</a> objects requires a System object whose <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> can be advanced through time.</li>
<li>System Developers: people who are writing concrete <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> classes.</li>
</ul>
<p>Note that System Users may include people who are writing studies, reporters, modelers and so on as well as end users who are accessing the System directly.</p>
<p>Methods intended for System Users, numerical integrators, and a few bookkeeping methods are in the main System class, which is a <a class="el" href="namespaceSimTK.html" title="This is the top-level SimTK namespace into which all SimTK names are placed to avoid collision with o...">SimTK</a> Handle class. A Handle class consists only of a single pointer, which in this case points to a <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> object. The <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> class is abstract, and virtual methods to be implemented by System Developers in the concrete System are defined there, along with other utilities of use to the concrete System Developer but not to the end user or numerical integrator. The <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> class is declared in a separate header file, and only people who are writing their own System classes need look there. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5941f985aa91c4a13bc964c06562e68f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::System::System </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor creates an empty handle. </p>

</div>
</div>
<a class="anchor" id="a0de8bdbe5c484ef5b25c9d0a42e01921"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::System::System </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1System.html">System</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy constructor (untested). </p>

</div>
</div>
<a class="anchor" id="a388f7dee9d5a987134f128822ab27eb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::System::~System </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor here will invoke the virtual destructor in the <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> class and thus clean up all unneeded detritus owned by this System. </p>

</div>
</div>
<a class="anchor" id="a14fe155e614bbe89e960d5a588b95a0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::System::System </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1System_1_1Guts.html">System::Guts</a> *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for internal use only. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a48108e379cbb25b518a592f5eb4dba0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1System.html">System</a>&amp; SimTK::System::setUpDirection </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1CoordinateDirection.html">CoordinateDirection</a> &amp;&#160;</td>
          <td class="paramname"><em>up</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a hint to other software as to which way this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>'s designer considers to be "up". </p>
<p>For visualization, this is the best direction to use as the default up direction for the camera, and the opposite direction is likely to be a good direction in which to apply gravitational forces. The default up direction is +YAxis, which is the same as the OpenGL convention for the camera up direction. You can set this to any of the coordinate axes in the positive or negative direction. For example, use setUpDirection(ZAxis) for the "virtual 
world" convention where ground is the x-y plane and setUpDirection(-ZAxis) might be appropriate for an aviation convention in which Z is directed downward. A visualizer that is showing a ground plane should make the ground plane normal be this up direction. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#aa22b56e154d4416c321c8219ff39ade0" title="This is a hint to visualization software that this System is best viewed against a uniform background...">setUseUniformBackground()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa22b56e154d4416c321c8219ff39ade0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1System.html">System</a>&amp; SimTK::System::setUseUniformBackground </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useUniformBackground</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a hint to visualization software that this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> is best viewed against a uniform background (e.g. all white) rather than against a ground plane. </p>
<p>A molecular system will typically set this flag so that the visualizer will not attempt to place the molecule on the ground. The default is to consider this system best viewed with a ground plane displayed, perpendicular to the "up" direction and located at a height of zero. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#a48108e379cbb25b518a592f5eb4dba0d" title="This is a hint to other software as to which way this System&#39;s designer considers to be &quot;up&quot;...">setUpDirection()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0ff6c479f189d6d161498d8276ba5846"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1System.html">System</a>&amp; SimTK::System::setDefaultTimeScale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a>&#160;</td>
          <td class="paramname"><em>tc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Advanced) This is a hint used for some default behaviors, such as determining an initial step size for an integrator, or the default unit error for a constraint error derivative from the original constraint. </p>
<p>Most users can ignore this and just take the default.</p>
<p>This should be set to roughly the time scale at which you expect to see interesting things happen, that is the scale at which you might choose to view reporting output. An orbital simulation using seconds as time units might set this to 10 or 100s, for example, while a biomechanical simulation could use 0.1s. This will affect the time scale on which velocity constraints are stabilized, with longer time scales being more demanding since there is more time to drift. By default this is 0.1 time units, so 100ms for systems measuring time in seconds and 100fs for systems measuring time in ps. </p>

</div>
</div>
<a class="anchor" id="a65b24e83f5e4a61c7d8eef49c6196a06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1System.html">System</a>&amp; SimTK::System::setDefaultLengthScale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a>&#160;</td>
          <td class="paramname"><em>lc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Advanced) This is a hint that can be used to get a sense of what a "unit 
length" looks like for this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> in the units it uses. </p>
<p>Most users can ignore this and just take the default.</p>
<p>For example, a model of a small toy car expressed in MKS units might set this to 0.01 (1 cm). The default for this is 1 length unit, meaning 1 meter in MKS and 1 nm in MD units. </p>

</div>
</div>
<a class="anchor" id="ac31a77ed678547306d48b0c72df969c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::setHasTimeAdvancedEvents </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This determines whether this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> wants to be notified whenever time advances irreversibly. </p>
<p>If set true, time advancement is treated as an event, and the <a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a> method is invoked with its <em>cause</em> argument set to indicate a time-advanced event occurred. By default, time advancement proceeds silently. </p>

</div>
</div>
<a class="anchor" id="a15c8dc0ebd5d350c39ef8561823eae34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1CoordinateDirection.html">CoordinateDirection</a> SimTK::System::getUpDirection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current setting of the "up" direction hint. </p>

</div>
</div>
<a class="anchor" id="ae06f14b32dd9d414c92255e58a842bbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::getUseUniformBackground </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current setting of the "use uniform background" visualization hint. </p>

</div>
</div>
<a class="anchor" id="aae38b5db206b4856fc0f2e47deb5809c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> SimTK::System::getDefaultTimeScale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the currently-set value for the default time scale, 0.1 time units if it has never been set. </p>

</div>
</div>
<a class="anchor" id="adb5711bd3b05e2ccc50aef4e643a1840"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> SimTK::System::getDefaultLengthScale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the currently-set value for the default length scale, 1 length unit if it has never been set. </p>

</div>
</div>
<a class="anchor" id="a6a69d10ac1c7953d6e95a852e9aff188"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::hasTimeAdvancedEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current value of the flag indicating whether this System wants an event generated whenever time advances irreversibly. </p>

</div>
</div>
<a class="anchor" id="af37126f1c07e4f0436d5942cbdff72e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::addEventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1ScheduledEventHandler.html">ScheduledEventHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a <a class="el" href="classSimTK_1_1ScheduledEventHandler.html" title="ScheduledEventHandler is a subclass of EventHandler for events that occur at a particular time that i...">ScheduledEventHandler</a> to this System, which takes over ownership of the event handler object. </p>

</div>
</div>
<a class="anchor" id="a02ea777ee8f406ded887c3747f5be11f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::addEventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1TriggeredEventHandler.html">TriggeredEventHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a <a class="el" href="classSimTK_1_1TriggeredEventHandler.html" title="TriggeredEventHandler is a subclass of EventHandler for events that occur when some condition is sati...">TriggeredEventHandler</a> to this System, which takes over ownership of the event handler object. </p>

</div>
</div>
<a class="anchor" id="ac41a6340e813fa89646b0ddac3a7fd1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::addEventReporter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1ScheduledEventReporter.html">ScheduledEventReporter</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a <a class="el" href="classSimTK_1_1ScheduledEventReporter.html" title="ScheduledEventReporter is a subclass of EventReporter for events that occur at a particular time that...">ScheduledEventReporter</a> to this System, which takes over ownership of the event reporter object. </p>

</div>
</div>
<a class="anchor" id="a2dbe3e249de51d0188758685ba9826ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::addEventReporter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1TriggeredEventReporter.html">TriggeredEventReporter</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a <a class="el" href="classSimTK_1_1TriggeredEventReporter.html" title="TriggeredEventReporter is a subclass of EventReporter for events that occur when some condition is sa...">TriggeredEventReporter</a> to this System, which takes over ownership of the event reporter object. </p>

</div>
</div>
<a class="anchor" id="aafd93d926012dc3d754d63126fa75355"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSimTK_1_1State.html">State</a>&amp; SimTK::System::realizeTopology </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following call must be made after any topological change has been made to this System, before the System can be used to perform any computations. </p>
<p>Perhaps surprisingly, the method is const. That's because the topology cannot be changed by this method. Various mutable "cache" entries will get calculated, including the default <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a>, a reference to which is returned. The returned <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> has a Topology stage version number that matches the System, and will have already been realized through the Model <a class="el" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a>, using the defaults for the Model-stage variables, meaning that all later stage variables have been allocated and set to their default values as well. You can access this same default <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> again using <a class="el" href="classSimTK_1_1System.html#aca986159e75689b55bb63be374f4b933" title="This is available after realizeTopology(), and will throw an exception if realizeTopology() has not b...">getDefaultState()</a>. If the current topology has already been realized, this call does nothing but return a reference to the already-built default <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#aca986159e75689b55bb63be374f4b933" title="This is available after realizeTopology(), and will throw an exception if realizeTopology() has not b...">getDefaultState()</a>, <a class="el" href="classSimTK_1_1System.html#a04ebc894406cd86fdb55d32d274f81ac" title="Realize the model to be used for subsequent computations with the given state. ">realizeModel()</a>, <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aca986159e75689b55bb63be374f4b933"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSimTK_1_1State.html">State</a>&amp; SimTK::System::getDefaultState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is available after <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a>, and will throw an exception if <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> has not been called since the most recent topological change to this System. </p>
<p>This method returns the same reference returned by <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a>. The <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> to which a reference is returned was created by the most recent <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> call. It has a Topology version number that matches the one currently in this System, and has already been realized through the Model <a class="el" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a>, using default values for all the Model-stage variables. All later-stage variables have been allocated and set to their default values. You can use this state directly to obtain information about the System in its default state or you can use this state to initialize other States to which you have write access. Those States are then suitable for further computation with this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abe10df3e1df1326164e32098a73772a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1State.html">State</a>&amp; SimTK::System::updDefaultState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Don't use this; make a copy of the default state instead and modify your copy. </p>

</div>
</div>
<a class="anchor" id="a04ebc894406cd86fdb55d32d274f81ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::realizeModel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realize the model to be used for subsequent computations with the given <em>state</em>. </p>
<p>This call is required if Model-stage variables are changed from their default values. The System topology must already have been realized (that is, <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> must have been called since the last topological change made to the System). Also, the supplied <em>state</em> must already have been initialized to work with this System either by copying the default state or some other <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> of this System. If it has already been realized to <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13aedd9c6ba269432679e666eda36ee069b" title="Modeling choices made. ">Stage::Model</a> or higher, nothing happens here. Otherwise, all the state variables at <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13af4ff7049cee385e9f602ab8378beee4a" title="Physical parameters set. ">Stage::Instance</a> or higher are allocated or reallocated (if necessary), and reinitialized to their default values.</p>
<dl class="section note"><dt>Note</dt><dd>Any state information at <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13af4ff7049cee385e9f602ab8378beee4a" title="Physical parameters set. ">Stage::Instance</a> or higher in the passed-in <em>state</em> is <em>destroyed</em> here. The number, types and memory locations of those state variables will change, so any existing references or pointers to them are invalid after this call. Note that this routine modifies its <em>state</em> argument, but makes no changes at all to the System itself (not even to the System's mutable cache) and is hence const. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a>, <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a39adc09111d252b2253485047ee7ce30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::realize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Stage.html">Stage</a>&#160;</td>
          <td class="paramname"><em>stage</em> = <code><a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13a80571f7c9ec481b305a9c6b17da32014">Stage::HighestRuntime</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realize the given <em>state</em> to the indicated <em>stage</em>. </p>
<p>The passed-in <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> must have been initialized to work with this System, and it must already have been realized through <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13aedd9c6ba269432679e666eda36ee069b" title="Modeling choices made. ">Stage::Model</a>, since this <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> method doesn't have write access to the <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a>. If the state has already been realized to the requested stage or higher, nothing happens here. Otherwise, the state is realized one stage at a time until it reaches the requested stage. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a>, <a class="el" href="classSimTK_1_1System.html#a04ebc894406cd86fdb55d32d274f81ac" title="Realize the model to be used for subsequent computations with the given state. ">realizeModel()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4f03913f3c308b36ae9ee0a31e1d0026"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::project </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a>&#160;</td>
          <td class="paramname"><em>accuracy</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting the generalized coordinates q and generalized speeds u onto the position and velocity constraint manifolds. </p>
<p>This method expects to be given a <em>state</em> that is close to satisfying the constraints already. It will apply prescribed motion and then attempt a least-squares projection to satisfy constraints, working first on q's and then on u's. If you are trying to assemble a system from an arbitrary configuration, would like control over which states get modified, or are attempting to track markers, use an <a class="el" href="classSimTK_1_1Assembler.html" title="This Study attempts to find a configuration (set of joint coordinates q) of a Simbody MultibodySystem...">Assembler</a> solver instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>A <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> whose q's and u's are to be modified. Must already have been realized to at least <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13aedd9c6ba269432679e666eda36ee069b" title="Modeling choices made. ">Stage::Model</a>. On return will be realized to <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13adaccf0c0afccae921811f5dd93e781e1" title="Spatial velocities available. ">Stage::Velocity</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accuracy</td><td>If provided, sets the required accuracy to which the constraints must be satisfied; an exception will be thrown if that accuracy cannot be achieved. If accuracy is left off or is nonpositive, the accuracy used is the default as provided by the <a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a> class.</td></tr>
  </table>
  </dd>
</dl>
<p>This method is provided for convenience and involves several calls to <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a>, <a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a>, <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a>, <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a>, and <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a>; call those directly if you want more control.</p>
<p>On return the given <em>state's</em> q and u variables will have been modified and the <em>state</em> will be realized through Velocity stage.</p>
<h3>Theory</h3>
<p>This solver projects the given state back on to the position or velocity constraint manifold, by the shortest path possible in the scaled norm defined in that state, and modifying only free (non-prescribed) variables. <a class="el" href="classSimTK_1_1Constraint.html" title="This is the base class for all Constraint classes, which is just a handle for the underlying hidden i...">Constraint</a> errors are scaled by their unit error weightings, then satisfied to a given accuracy using an RMS norm, or optionally using the stricter infinity norm. You can specify accuracy here explicitly; otherwise it uses the default as provided by the <a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a> class.</p>
<p>Position constraints are satisfied as follows: </p><pre>
    solve |Tp*perr(t;q+dq)|_n &lt;= accuracy for dq (n==rms or inf)
    such that |Wq*dq|_2 is minimized
</pre><p> Here Tp=diag(1./unit_p) scales each position constraint error to a fraction of its unit error. Wq=N*Wu*pinv(N) weights dq to include both the "unit change" weightings on u and the artifactual configuration-dependent weightings on q generated by choice of orientation coordinates such as quaternions or rotation angles. (N as in qdot=N*u; pinv() is pseudoinverse.) We do not allow relative weighting on dq based on the current values of q; Simbody always solves q to absolute accuracy since arbitrary translations and rotations by 2pi should not affect physically-significant results.</p>
<p>Velocity constraints are satisfied as follows: </p><pre>
    solve |Tpv*pverr(t,q;u+du)|_n &lt;= accuracy for du (n==rms or inf)
    such that |Eu*du|_2 is minimized
</pre><p> Here Tpv=diag(ts./unit_p 1./unit_v) where ts is the system's time scale used to scale the holonomic constraint's unit errors, and unit_v is the unit error for the holonomic constraints. The error weighting matrix Eu combines relative and absolute accuracy requirements as follows: </p><pre>
    Eu_i={ min(Wu_i, 1/u_i), relative accuracy OK for u_i
         {       Wu_i,       otherwise
</pre><dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1Assembler.html" title="This Study attempts to find a configuration (set of joint coordinates q) of a Simbody MultibodySystem...">Assembler</a>, <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a>, <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a>, <a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a>, <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7523e953d467c665e4808e8c88ab5af0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::projectQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a>&#160;</td>
          <td class="paramname"><em>accuracy</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remaining free q's. </p>
<p>The given <em>state</em> will be realized as necessary and on return will have been realized through Position stage. See <a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a> for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>A <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> whose q's are to be modified. Must already have been realized to at least <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13aedd9c6ba269432679e666eda36ee069b" title="Modeling choices made. ">Stage::Model</a>. On return will be realized to <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13aa387747781b9d06f99cad1168864c747" title="Spatial configuration available. ">Stage::Position</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accuracy</td><td>If provided, sets the required accuracy to which the constraints must be satisfied; an exception will be thrown if that accuracy cannot be achieved. If accuracy is left off or is nonpositive, the accuracy used is the default as provided by the <a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a> class.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a>, <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a>, <a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac86f067cd6f00d338cf1c4b773a86d07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::projectU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a>&#160;</td>
          <td class="paramname"><em>accuracy</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remaining free u's. </p>
<p>The given <em>state</em> will be realized as necessary and on return will have been realized through Velocity stage. Note that no q's are modified by this method; you should already have ensured that they satisfy position constraints. See <a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a> for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>A <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> whose u's are to be modified. Must already have been realized to at least <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13aedd9c6ba269432679e666eda36ee069b" title="Modeling choices made. ">Stage::Model</a>. On return will be realized to <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13adaccf0c0afccae921811f5dd93e781e1" title="Spatial velocities available. ">Stage::Velocity</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accuracy</td><td>If provided, sets the required accuracy to which the constraints must be satisfied; an exception will be thrown if that accuracy cannot be achieved. If accuracy is left off or is nonpositive, the accuracy used is the default as provided by the <a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a> class.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a>, <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a>, <a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a106082b22732f8cf58a6c5c2d6e1b59f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::projectQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>qErrEst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1ProjectOptions.html">ProjectOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1ProjectResults.html">ProjectResults</a> &amp;&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Advanced) Project free q's so that position constraints are satisfied and remove the corresponding error from the supplied error estimate. </p>
<p>This is primarily intended for use by numerical integration algorithms. You must already have set prescribed q's; this method will not modify them but may depend on their current values. <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> must be realized to Position stage on entry and will still be realized through Position stage on return.</p>
<p>If the norm of the position constraint errors is already less than or equal to the accuracy requested in <em>options</em> on entry, nothing will happen unless you have selected the "force projection" option. You can find out what actually happened by looking in the returned <em>results</em>.</p>
<p>Optionally, this method can also project out the constraint-normal component of the passed-in error estimate vector <em>qErrEst</em>. This is part of the integration of the continuous DAE system and thus should never require an integrator restart. Just pass a 0-length (default constructed) Vector in place of the error estimate if you don't want error projection.</p>
<p>Some options are available, see <a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a> for complete list. For example,</p><ul>
<li>use infinity norm</li>
<li>local projection only</li>
<li>force projection</li>
<li>don't throw an exception</li>
<li>force full Newton</li>
</ul>
<p>This method and <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a> are not for satisfying acceleration constraints, which does not involve modifications to state variables. Acceleration constraints are satisfied automatically when you realize a state to Acceleration stage using realize(state); the resulting udots will satisfy the acceleration constraints (if possible), even if the position and velocity constraints are not satisfied.</p>
<p>See the Theory section in the documentation for <a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a> for more information.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a>, <a class="el" href="classSimTK_1_1ProjectResults.html" title="Results for advanced users of project() methods. ">ProjectResults</a>, <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a>, <a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3014df5714167d59163c79473e08b97f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::projectU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>uErrEst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1ProjectOptions.html">ProjectOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1ProjectResults.html">ProjectResults</a> &amp;&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Advanced) Project free u's so that velocity constraints are satisfied and remove the corresponding error from the supplied error estimate. </p>
<p>This is primarily intended for use by numerical integration algorithms. You must already have dealt with q's and already set prescribed u's; this method will not modify them but may depend on their current values. <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> must be realized to Velocity stage on entry and will still be realized through Velocity stage on return.</p>
<p>If the norm of the velocity constraint errors is already less than or equal to the accuracy requested in <em>options</em> on entry, nothing will happen unless you have selected the "force projection" option. You can find out what actually happened by looking in the returned <em>results</em>.</p>
<p>Optionally, this method can also project out the constraint-normal component of the passed-in error estimate vector <em>uErrEst</em>. This is part of the integration of the continuous DAE system and thus should never require an integrator restart. Just pass a 0-length (default constructed) Vector in place of the error estimate if you don't want error projection.</p>
<p>See the Theory section in the documentation for <a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a>, and the comments for <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a>, for more information.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1ProjectOptions.html" title="Options for the advanced project() methods. ">ProjectOptions</a>, <a class="el" href="classSimTK_1_1ProjectResults.html" title="Results for advanced users of project() methods. ">ProjectResults</a>, <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a>, <a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8515581300ce1496748a84b1f5a79c62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::prescribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set values for prescribed positions q and velocities u. </p>
<p>Prescribed positions are functions of time q(t) and prescribed velocities are functions of time and position u(t,q). Both can also depend on earlier-stage discrete variables such as modeling and instance parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>The <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> to be modified. Time and the values of non-prescribed q's are obtained from <em>state</em> and prescribed q's and u's are modified on return. The <em>state</em> will be realized as needed and on return will have been realized through Position stage. The prescribed velocities will have been set but not yet realized.</td></tr>
  </table>
  </dd>
</dl>
<p>This is a convenience method that performs several <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> calls and uses <a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a> and <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a>. If you want more control, use those methods directly instead of this one.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a>, <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a>, <a class="el" href="classSimTK_1_1System.html#a4f03913f3c308b36ae9ee0a31e1d0026" title="Apply prescribed motion and attempt to satisfy all position and velocity constraints by projecting th...">project()</a>, <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2c4aa2fffcdc6f9aa541078b3f327c03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::prescribeQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This solver sets prescribed q's to their known values q=q(t) as a function of time (and possibly earlier-stage discrete state variables). </p>
<p>We expect the supplied <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> already to have been realized to <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13a06ce2e5708ad9e6c20d8265601afbdb9" title="A new time has been realized. ">Stage::Time</a>. Note that the <em>derivatives</em> qdot of prescribed q's (which are of necessity also prescribed but are not themselves state variables) are set in the subsequent <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> call. For example, prescribeU sets the prescribed u's, then the next realize(Velocity) call will use them to calculate the prescribed qdots=N*u. realize(Dynamics) calculates known forces and the prescribed udoti=udoti(t,q,u). realize(Acceleration) calculates the remaining udots, lambdas, taus, and all the zdots.</p>
<p>Note that this method is <em>not</em> used to set prescribed udots, because those are not state variables. Instead, prescribed udots (which depend on time, positions, and velocities) are set as part of realize(Dynamics).</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if any change was made to <em>state</em>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#a8515581300ce1496748a84b1f5a79c62" title="Set values for prescribed positions q and velocities u. ">prescribe()</a>, <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a608f8a85ce62a78b794d3d2225c7de46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::prescribeU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This solver sets prescribed u's to their known values u=u(t,q) as a function of time and position variables q (and possibly earlier-stage discrete state variables). </p>
<p>We expect the supplied <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> already to have been realized to <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13aa387747781b9d06f99cad1168864c747" title="Spatial configuration available. ">Stage::Position</a>. Note that the <em>derivatives</em> of prescribed variables (which are of necessity also prescribed but are not themselves state variables) are set in the subsequent <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> calls. For example, <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a> sets the prescribed u's, then the next realize(Velocity) call will use them to calculate the prescribed qdots=N*u. realize(Dynamics) calculates known forces and the prescribed udoti=udoti(t,q,u). realize(Acceleration) calculates the remaining udots, lambdas, taus, and all the zdots.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if any change was made to <em>state</em>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1System.html#a8515581300ce1496748a84b1f5a79c62" title="Set values for prescribed positions q and velocities u. ">prescribe()</a>, <a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa1aca5d4b4fc7dd27d67d5ce3c6bfa0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::getFreeQIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1SystemQIndex.html">SystemQIndex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>freeQs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the indices of the q's in the given <em>state</em> that are free; that is, they are not affected by <a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a>. </p>
<p>The indices are copied into the return argument <em>freeQs</em> in ascending order; missing ones are prescribed. <em>freeQs</em> is resized if necessary to the number of free q's, nfq. <em>state</em> must be realized through <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13af4ff7049cee385e9f602ab8378beee4a" title="Physical parameters set. ">Stage::Instance</a>. </p>

</div>
</div>
<a class="anchor" id="af45ac98427ed88cbb5618519e3721d96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::getFreeUIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1SystemUIndex.html">SystemUIndex</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>freeUs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the indices of the u's in the given <em>state</em> that are free; that is, they are not affected by <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a>. </p>
<p>The indices are copied into the return argument <em>freeUs</em> in ascending order; missing ones are prescribed. <em>freeUs</em> is resized if necessary to the number of free u's, nfu. <em>state</em> must be realized through <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13af4ff7049cee385e9f602ab8378beee4a" title="Physical parameters set. ">Stage::Instance</a>. </p>

</div>
</div>
<a class="anchor" id="a689865295cdc20f55ba2a4c078a80d0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::handleEvents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Event_1_1Cause.html">Event::Cause</a>&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventId.html">EventId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eventIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1HandleEventsOptions.html">HandleEventsOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1HandleEventsResults.html">HandleEventsResults</a> &amp;&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This solver handles a set of events which a <a class="el" href="classSimTK_1_1TimeStepper.html" title="This class uses an Integrator to advance a System through time. ">TimeStepper</a> has denoted as having occurred at the given time and state. </p>
<p>The event handler may make discontinuous changes in the <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a>, in general both to discrete and continuous variables, but <em>not</em> to time or topological information. If changes are made to continuous variables, the handler is required to make sure the returned state satisfies the constraints to the accuracy level specified in <em>options</em>.</p>
<p>On return, the <a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a> method will set the output variable <em>results</em> to indicate what happened. If any invoked handler determines that the occurrence of some event requires that the simulation be terminated, that information is returned in <em>results</em> and a well-behaved <a class="el" href="classSimTK_1_1TimeStepper.html" title="This class uses an Integrator to advance a System through time. ">TimeStepper</a> will stop when it sees that.</p>
<p>Simbody will automatically set a field in <em>results</em> that says how much of the <em>state</em> was changed by the handler so that the calling <a class="el" href="classSimTK_1_1TimeStepper.html" title="This class uses an Integrator to advance a System through time. ">TimeStepper</a> will be able to determine how much reinitialization is required.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1HandleEventsOptions.html" title="Options for the handleEvent() method. ">HandleEventsOptions</a>, <a class="el" href="classSimTK_1_1HandleEventsResults.html" title="Results returned by the handleEvent() method. ">HandleEventsResults</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa87826365bf47122b842d55fcab0248b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::reportEvents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Event_1_1Cause.html">Event::Cause</a>&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventId.html">EventId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eventIds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is similar to <a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a>, but does not allow the <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> to be modified. </p>
<p>It is used for scheduled events that were marked as being reports. </p>

</div>
</div>
<a class="anchor" id="a2c2c0eba7798f37d75387a85c5b27c6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::calcEventTriggerInfo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventTriggerInfo.html">EventTriggerInfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>triggerInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine provides the <a class="el" href="classSimTK_1_1Integrator.html" title="An Integrator is an object that can advance the State of a System through time. ">Integrator</a> with information it needs about the individual event trigger functions, such as which sign transitions are relevant and how tightly we need to localize. </p>
<p>This is considered Instance stage information so cannot change during a continuous integration interval (so an <a class="el" href="classSimTK_1_1Integrator.html" title="An Integrator is an object that can advance the State of a System through time. ">Integrator</a> can process it upon restart(Instance)), however it can be updated whenever a discrete update is made to the <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a>. A default implementation is provided which returns default <a class="el" href="classSimTK_1_1EventTriggerInfo.html" title="This class is used to communicate between the System and an Integrator regarding the properties of a ...">EventTriggerInfo</a> for each event trigger in <em>state</em>. The <em>state</em> must already be realized to <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13af4ff7049cee385e9f602ab8378beee4a" title="Physical parameters set. ">Stage::Instance</a>. </p>

</div>
</div>
<a class="anchor" id="a14bfcf5759f8088df5a5b5876dbc9551"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::calcTimeOfNextScheduledEvent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> &amp;&#160;</td>
          <td class="paramname"><em>tNextEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventId.html">EventId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eventIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeCurrentTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine should be called to determine if and when there is an event scheduled to occur at a particular time. </p>
<p>This is a <em>lot</em> cheaper than making the <a class="el" href="classSimTK_1_1Integrator.html" title="An Integrator is an object that can advance the State of a System through time. ">Integrator</a> hunt these down like ordinary state-dependent events. The returned time can be passed to the <a class="el" href="classSimTK_1_1Integrator.html" title="An Integrator is an object that can advance the State of a System through time. ">Integrator</a>'s stepping function as the advance time limit. </p>

</div>
</div>
<a class="anchor" id="aef441c402f8e6baea15674944853009b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::calcTimeOfNextScheduledReport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a> &amp;&#160;</td>
          <td class="paramname"><em>tNextEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1EventId.html">EventId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eventIds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeCurrentTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine is similar to <a class="el" href="classSimTK_1_1System.html#a14bfcf5759f8088df5a5b5876dbc9551" title="This routine should be called to determine if and when there is an event scheduled to occur at a part...">calcTimeOfNextScheduledEvent()</a>, but is used for "reporting events" which do not modify the state. </p>
<p>Events returned by this method should be handled by invoking <a class="el" href="classSimTK_1_1System.html#aa87826365bf47122b842d55fcab0248b" title="This method is similar to handleEvents(), but does not allow the State to be modified. ">reportEvents()</a> instead of <a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a>. </p>

</div>
</div>
<a class="anchor" id="a94090d706e7373e8cf633ed6f52c8e2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::relax </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Stage.html">Stage</a>&#160;</td>
          <td class="paramname"><em>stage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#ac8a16de2becf1c1eb28fa6ef2c2e5ff1">Real</a>&#160;</td>
          <td class="paramname"><em>accuracy</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This optional method should modify fast variables at the given stage until they satisfy some relaxation criteria. </p>
<p>The criteria may involve anything in the <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> *except* fast variables at higher stages. Anything that can be calculated from the state is also fair game provided that those calculations do not depend on higher-stage fast variables. "Relaxation" criteria may require that fast variables satisfy some implicit or explicit algebraic conditions (constraints), or reach some minimization or maximization condition. A common criterion is that fast q's are moved to minimize potential energy; that can be achieved by driving the fast mobilities' lambdas (calculated joint torques) to zero since they are the potential energy gradient. That may require repeated realization to Acceleration stage.</p>
<p>Note that when q's are fast, the corresponding u's and udots are <em>prescribed</em> (to zero), they are not <em>fast</em>. And when u's are fast, their udots are also zero (their q's are regular integrated variables). Fast z's have zero zdots. Any other variables (that is, x-partition variables) can also be fast but don't have derivatives.</p>
<p>TODO: should take options and return results. </p>

</div>
</div>
<a class="anchor" id="a49bdc882a0672512d3d8543fa74ee60a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::multiplyByN </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>dq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate dq=N*u in O(n) time (very fast). </p>

</div>
</div>
<a class="anchor" id="a6ff01072399415ff519145567e2f5e87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::multiplyByNTranspose </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>fq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>fu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate fu=~N*fq in O(n) time (very fast). </p>

</div>
</div>
<a class="anchor" id="a9d75878460be0aa52382fb501de8d353"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::multiplyByNPInv </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>dq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate u=pinv(N)*dq in O(n) time (very fast). </p>

</div>
</div>
<a class="anchor" id="a1259cd226aba4ea785e55750ae8302b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::multiplyByNPInvTranspose </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>fu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MatVecTypedefs.html#gacd32706a1c8d3ee7c84c56bf048e7f1f">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>fq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate fq=~pinv(N)*fu in O(n) time (very fast). </p>

</div>
</div>
<a class="anchor" id="aa6624457dde5c8b7ca66a3fbe1d0b2a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::resetAllCountersToZero </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zero out the statistics for this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>. </p>
<p>Although the statistics are mutable, we only allow them to be reset by a caller who has write access since setting the stats to zero is associated with construction. </p>

</div>
</div>
<a class="anchor" id="a596ddf886b4da67cb626c540be63ba1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumRealizationsOfThisStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Stage.html">Stage</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whenever the system was realized from Stage-1 to the indicated <a class="el" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a>, this counter is bumped. </p>
<p>Note that a single call to <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a> can cause several counters to get bumped. </p>

</div>
</div>
<a class="anchor" id="ab22400494518c82a3f7c76a98894e79b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumRealizeCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a>, <a class="el" href="classSimTK_1_1System.html#a04ebc894406cd86fdb55d32d274f81ac" title="Realize the model to be used for subsequent computations with the given state. ">realizeModel()</a>, or <a class="el" href="classSimTK_1_1System.html#a39adc09111d252b2253485047ee7ce30" title="Realize the given state to the indicated stage. ">realize()</a>, regardless of whether these routines actually did anything when called. </p>

</div>
</div>
<a class="anchor" id="af2f33a3dbb6311daf8805aefa795c416"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumPrescribeQCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of calls to the <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>'s <a class="el" href="classSimTK_1_1System.html#a2c4aa2fffcdc6f9aa541078b3f327c03" title="This solver sets prescribed q&#39;s to their known values q=q(t) as a function of time (and possibly earl...">prescribeQ()</a> method. </p>

</div>
</div>
<a class="anchor" id="ae6835f2ba9c74e12a365a995c575ef3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumPrescribeUCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of calls to the <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>'s <a class="el" href="classSimTK_1_1System.html#a608f8a85ce62a78b794d3d2225c7de46" title="This solver sets prescribed u&#39;s to their known values u=u(t,q) as a function of time and position var...">prescribeU()</a> method. </p>

</div>
</div>
<a class="anchor" id="a39a86d135714abce04b16abe5d92a417"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumProjectQCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a>, regardless of whether the call did anything. </p>

</div>
</div>
<a class="anchor" id="aa9353d2a3a0ec327fc932386b2859446"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumFailedProjectQCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a> that failed. </p>

</div>
</div>
<a class="anchor" id="a00ad0446ba8fe1b494ff5f8dd97576c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumQProjections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many of the successful <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a> calls actually did a constraint projection, rather than returning quickly? </p>

</div>
</div>
<a class="anchor" id="a3b9fb2946b388cf061e106385d8bf586"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumQErrorEstimateProjections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many of the <a class="el" href="classSimTK_1_1System.html#a7523e953d467c665e4808e8c88ab5af0" title="Set prescribed positions q=q(t) and attempt to satisfy position constraints by modifying the remainin...">projectQ()</a> calls that did a constraint projection also projected an error estimate? </p>

</div>
</div>
<a class="anchor" id="a642edc17d576f99502fe3a9bc356b0e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumProjectUCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a>, regardless of whether the call did anything. </p>

</div>
</div>
<a class="anchor" id="a6d4b3c6e405fbd428aad410bc2d6cea7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumFailedProjectUCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the total number of calls to <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a> that failed. </p>

</div>
</div>
<a class="anchor" id="af49589140db74033d02e415348fa38f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumUProjections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many of the successful <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a> calls actually did a constraint projection, rather than returning quickly? </p>

</div>
</div>
<a class="anchor" id="a0691cdb34eda5be9eaa0f3f7177ef2e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumUErrorEstimateProjections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many of the <a class="el" href="classSimTK_1_1System.html#ac86f067cd6f00d338cf1c4b773a86d07" title="Set prescribed velocities u=u(t,q) and attempt to satisfy velocity constraints by modifying the remai...">projectU()</a> calls that did a constraint projection also projected an error estimate? </p>

</div>
</div>
<a class="anchor" id="a011e7eff9361b2e128f7435ddd4ae87d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumHandlerCallsThatChangedStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Stage.html">Stage</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a> reports the lowest <a class="el" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a> it modified and we bump the counter for that <a class="el" href="classSimTK_1_1Stage.html" title="This class is basically a glorified enumerated type, type-safe and range checked but permitting conve...">Stage</a>. </p>
<p>We also count <a class="el" href="classSimTK_1_1System.html#aa87826365bf47122b842d55fcab0248b" title="This method is similar to handleEvents(), but does not allow the State to be modified. ">reportEvents()</a> calls here as having "changed" <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13af707c792f9f86a0a01efd6a94413a739" title="Report-only quantities evaluated. ">Stage::Report</a>. </p>

</div>
</div>
<a class="anchor" id="a50544edf6531886812ec4994a9bf5472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumHandleEventCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the total number of calls to <a class="el" href="classSimTK_1_1System.html#a689865295cdc20f55ba2a4c078a80d0a" title="This solver handles a set of events which a TimeStepper has denoted as having occurred at the given t...">handleEvents()</a> regardless of the outcome. </p>

</div>
</div>
<a class="anchor" id="acdeec2292b272af23c9347d1aaef2867"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumReportEventCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the total number of calls to <a class="el" href="classSimTK_1_1System.html#aa87826365bf47122b842d55fcab0248b" title="This method is similar to handleEvents(), but does not allow the State to be modified. ">reportEvents()</a> regardless of the outcome. </p>

</div>
</div>
<a class="anchor" id="ad6546ff05186570385606d0342e9d886"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1System.html">System</a>&amp; SimTK::System::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1System.html">System</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy assignment (untested). </p>

</div>
</div>
<a class="anchor" id="a33f9a0687dfba4073561b8af7b638954"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSimTK_1_1String.html">String</a>&amp; SimTK::System::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the name assigned to this System (arbitrary). </p>

</div>
</div>
<a class="anchor" id="a50c2a92c914fab816a9906b01510e46e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSimTK_1_1String.html">String</a>&amp; SimTK::System::getVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the version string assigned to this System (arbitrary). </p>

</div>
</div>
<a class="anchor" id="a2f1212b35fa9988617a6e3b179390baa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1SubsystemIndex.html">SubsystemIndex</a> SimTK::System::adoptSubsystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Subsystem.html">Subsystem</a> &amp;&#160;</td>
          <td class="paramname"><em>child</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take over ownership of the supplied subsystem and install it into the next free subsystem slot. </p>
<p>The new slot index is returned. </p>

</div>
</div>
<a class="anchor" id="a2625005bf4b2a3dba479a192d9d4b3ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SimTK::System::getNumSubsystems </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How may Subsystems are in here? </p>

</div>
</div>
<a class="anchor" id="ab9294351057026a1cdb9598b30f350cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSimTK_1_1Subsystem.html">Subsystem</a>&amp; SimTK::System::getSubsystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1SubsystemIndex.html">SubsystemIndex</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain read-only access to a particular subsystem by its index. </p>

</div>
</div>
<a class="anchor" id="abd488d61309a843be491384bd0fc2e05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1Subsystem.html">Subsystem</a>&amp; SimTK::System::updSubsystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1SubsystemIndex.html">SubsystemIndex</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain writable access to a particular subsystem by its index. </p>

</div>
</div>
<a class="anchor" id="ace4d6fb1dc801bf21587ac27f0bbff07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html">DefaultSystemSubsystem</a>&amp; SimTK::System::getDefaultSubsystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get read-only access to the default subsystem which is present in every system. </p>

</div>
</div>
<a class="anchor" id="a2225a7bd6fd66c628ed8c35077f0edca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html">DefaultSystemSubsystem</a>&amp; SimTK::System::updDefaultSubsystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get writable access to the default subsystem which is present in every system. </p>

</div>
</div>
<a class="anchor" id="aef1e8631d4c629307d0fb8d4a42a3349"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::System::operator const <a class="el" href="classSimTK_1_1Subsystem.html">Subsystem</a> &amp; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implicitly convert this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> into a const <a class="el" href="classSimTK_1_1Subsystem.html" title="A Subsystem is expected to be part of a larger System and to have interdependencies with other subsys...">Subsystem</a> reference; this actually returns a reference to the <a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html" title="This is a concrete Subsystem that is part of every System. It provides a variety of services for the ...">DefaultSystemSubsystem</a> contained in this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>. </p>

</div>
</div>
<a class="anchor" id="af5e6dec5b296dfd09de479ac3534a3eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::System::operator <a class="el" href="classSimTK_1_1Subsystem.html">Subsystem</a> &amp; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implicitly convert this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> into a writable <a class="el" href="classSimTK_1_1Subsystem.html" title="A Subsystem is expected to be part of a larger System and to have interdependencies with other subsys...">Subsystem</a> reference; this actually returns a reference to the <a class="el" href="classSimTK_1_1DefaultSystemSubsystem.html" title="This is a concrete Subsystem that is part of every System. It provides a variety of services for the ...">DefaultSystemSubsystem</a> contained in this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>. </p>

</div>
</div>
<a class="anchor" id="a9935bdda9ea407bb3b669d68f93b4a53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::systemTopologyHasBeenRealized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Advanced) You can check whether <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> has been called since the last topological change to this Syatem. </p>
<p>If you don't check and just plunge ahead you are likely to encounter an exception since very few things will work without topology having been realized. </p>

</div>
</div>
<a class="anchor" id="a726f47afe785d14efca4369ebd0340d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceSimTK.html#a578ce671df2b7d61432037baba8e8870">StageVersion</a> SimTK::System::getSystemTopologyCacheVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Advanced) Return the current version number of this system's Topology cache information. </p>
<p>This is a counter that is incremented each time the Topology is invalidated. Any <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> to be used with this <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> must have the same Topology version number as the <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a> does. The version number is returned regardless of whether topology has been realized; you can check that with <a class="el" href="classSimTK_1_1System.html#a9935bdda9ea407bb3b669d68f93b4a53" title="(Advanced) You can check whether realizeTopology() has been called since the last topological change ...">systemTopologyHasBeenRealized()</a>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classSimTK_1_1State.html#a6b5288aca25862280f95f7ec82ff1e24" title="The Topology stage version number (an integer) stored in this State must match the topology cache ver...">State::getSystemTopologyStageVersion()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3abde0d445d8c8ed23d9142b0d26c6e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::setSystemTopologyCacheVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceSimTK.html#a578ce671df2b7d61432037baba8e8870">StageVersion</a>&#160;</td>
          <td class="paramname"><em>topoVersion</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Really advanced) Set the current version number of this system's Topology cache information. </p>
<p>Don't use this method unless you really know what you're doing! This has no effect on realization status; if topology has not yet been realized this is the version number it will have after the next <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> call. </p>

</div>
</div>
<a class="anchor" id="af45e623ec7b91415aa87c060d67a3bf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::invalidateSystemTopologyCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Advanced) Mark the Topology stage of this system and all its subsystems "not realized." This is normally handled automatically by whenever you make a Topology-stage change to any subsystem. </p>
<p>Occasionally you may want to force recomputation of the Topology-stage cache, for example during testing. After this call the method <a class="el" href="classSimTK_1_1System.html#a9935bdda9ea407bb3b669d68f93b4a53" title="(Advanced) You can check whether realizeTopology() has been called since the last topological change ...">systemTopologyHasBeenRealized()</a> will return false and you will not be able to call <a class="el" href="classSimTK_1_1System.html#aca986159e75689b55bb63be374f4b933" title="This is available after realizeTopology(), and will throw an exception if realizeTopology() has not b...">getDefaultState()</a>. A subsequent call to <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> will invoke all the subsystems' <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> methods. The Topology stage version number will have changed, so all previously-created <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> objects will be invalid. </p>

</div>
</div>
<a class="anchor" id="aba88dac52b3b28a184203458b00e530b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::calcDecorativeGeometryAndAppend </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1State.html">State</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Stage.html">Stage</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1Array__.html">Array_</a>&lt; <a class="el" href="classSimTK_1_1DecorativeGeometry.html">DecorativeGeometry</a> &gt; &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(Advanced) Generate all decorative geometry computable at a specific stage; this is useful for visualizers. </p>
<p>This will throw an exception if the state hasn't already been realized to the given stage. Note that the list is not inclusive &ndash; you have to request geometry from each stage to get all of it. This routine asks each subsystem in succession to generate its decorative geometry and append it to the end of the array. If the stage is <a class="el" href="classSimTK_1_1Stage.html#ac3ebdb6f8942a72c65886e5286dd8a13a58721a4474cb55368c71692a698504b0" title="System topology realized. ">Stage::Topology</a>, <a class="el" href="classSimTK_1_1System.html#aafd93d926012dc3d754d63126fa75355" title="The following call must be made after any topological change has been made to this System...">realizeTopology()</a> must already have been called but the <a class="el" href="classSimTK_1_1State.html" title="This object is intended to contain all state information for a SimTK::System, except topological info...">State</a> is ignored. </p>

</div>
</div>
<a class="anchor" id="a1c8a555b755c4ccf458ecdfebf13bda7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::isSameSystem </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimTK_1_1System.html">System</a> &amp;&#160;</td>
          <td class="paramname"><em>otherSystem</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>There can be multiple handles referring to the same <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> object; they are considered to be the same <a class="el" href="classSimTK_1_1System.html" title="This is the base class that serves as the parent of all SimTK System objects; most commonly Simbody&#39;s...">System</a>. </p>

</div>
</div>
<a class="anchor" id="ad6946d8d9988a9e4ce8c4d977e94bef6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSimTK_1_1System_1_1Guts.html">Guts</a>&amp; SimTK::System::getSystemGuts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain a const reference to the <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> object to which this handle refers. </p>
<p>You should then dynamic_cast the returned reference to a reference to your concrete <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">Guts</a> class. </p>

</div>
</div>
<a class="anchor" id="a89c195d9f3bc604e7758e2f4d2a05165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimTK_1_1System_1_1Guts.html">Guts</a>&amp; SimTK::System::updSystemGuts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain a writable reference to the <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">System::Guts</a> object to which this handle refers. </p>
<p>You should then dynamic_cast the returned reference to a reference to your concrete <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">Guts</a> class. </p>

</div>
</div>
<a class="anchor" id="a866f6290257b3368d9b9098ffb879bd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimTK::System::adoptSystemGuts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimTK_1_1System_1_1Guts.html">System::Guts</a> *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put new <em>unowned</em> <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">Guts</a> into this *empty* handle and take over ownership. </p>
<p>If this handle is already in use, or if <a class="el" href="classSimTK_1_1System_1_1Guts.html" title="This is the declaration for the System::Guts class, the abstract object to which a System handle poin...">Guts</a> is already owned this routine will throw an exception. </p>

</div>
</div>
<a class="anchor" id="a6a41998f82345fcd24169897fd74d14e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::hasGuts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if this System handle is not empty. </p>

</div>
</div>
<a class="anchor" id="a13e58b7dfc3ebf27c5de0638be21e742"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::isOwnerHandle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal use only. </p>

</div>
</div>
<a class="anchor" id="a4f3e37832adeb472aa44d92fa01a41d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimTK::System::isEmptyHandle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal use only. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a4987035570f1150fe0631dbef6dbd95b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classSimTK_1_1System_1_1Guts.html">Guts</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="System_8h_source.html">System.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceSimTK.html">SimTK</a></li><li class="navelem"><a class="el" href="classSimTK_1_1System.html">System</a></li>
    <li class="footer">Generated on Tue Apr 26 2016 22:01:25 for Simbody by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
